/* ============================================
   StudyLanguage Mobile UI Mockup - Design System
   Target: iPhone 16 Plus (430×932pt)
   ============================================ */

/* CSS Reset */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

/* Fonts */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@500;600;700&display=swap');

:root {
  --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  --font-display: 'Space Grotesk', var(--font-sans);
  /* Spacing */
  --sp-xs: 4px; --sp-sm: 8px; --sp-md: 12px; --sp-base: 16px;
  --sp-lg: 20px; --sp-xl: 24px; --sp-2xl: 32px; --sp-3xl: 40px;
  /* Radius */
  --r-sm: 8px; --r-md: 12px; --r-lg: 16px; --r-xl: 20px; --r-2xl: 24px; --r-full: 9999px;
  /* iPhone 16 Plus */
  --phone-w: 430px; --phone-h: 932px;
  /* Skill Colors */
  --skill-listening: #4F6BED; --skill-speaking: #22C55E; --skill-reading: #D97706;
  --skill-listening-bg: rgba(79,107,237,0.12); --skill-speaking-bg: rgba(34,197,94,0.12); --skill-reading-bg: rgba(217,119,6,0.12);
}

/* ============================================
   THEME DEFINITIONS
   ============================================ */

/* Sunset Focus - Dark */
[data-theme="sunset-dark"] {
  --bg-primary: #000000; --bg-secondary: #0a0a0a; --bg-tertiary: #141414;
  --bg-card: #1a1a1a; --bg-card-hover: #222222; --bg-elevated: #252525;
  --text-primary: #fafafa; --text-secondary: #a3a3a3; --text-tertiary: #737373; --text-muted: #525252;
  --accent: #F59E0B; --accent-hover: #D97706; --accent-soft: rgba(245,158,11,0.15); --accent-glow: rgba(245,158,11,0.3);
  --accent-secondary: #EF4444; --accent-secondary-soft: rgba(239,68,68,0.15);
  --border: rgba(255,255,255,0.08); --border-strong: rgba(255,255,255,0.15);
  --glass-bg: rgba(26,26,26,0.7); --glass-border: rgba(255,255,255,0.06);
  --overlay: rgba(0,0,0,0.6); --success: #22C55E; --error: #EF4444; --warning: #F59E0B; --info: #3B82F6;
  --shadow: 0 4px 24px rgba(0,0,0,0.5); --shadow-lg: 0 8px 40px rgba(0,0,0,0.6);
  --gradient-hero: linear-gradient(135deg, rgba(245,158,11,0.2) 0%, rgba(239,68,68,0.1) 100%);
  --tab-bg: #0a0a0a; --tab-active: #F59E0B; --tab-inactive: #525252;
  --status-bar-style: light;
}

/* Sunset Focus - Light */
[data-theme="sunset-light"] {
  --bg-primary: #FFFBF5; --bg-secondary: #FFF5E6; --bg-tertiary: #FFEFD6;
  --bg-card: #FFFFFF; --bg-card-hover: #FFF8F0; --bg-elevated: #FFFFFF;
  --text-primary: #1a1a1a; --text-secondary: #525252; --text-tertiary: #737373; --text-muted: #a3a3a3;
  --accent: #D97706; --accent-hover: #B45309; --accent-soft: rgba(217,119,6,0.1); --accent-glow: rgba(217,119,6,0.2);
  --accent-secondary: #DC2626; --accent-secondary-soft: rgba(220,38,38,0.1);
  --border: rgba(0,0,0,0.08); --border-strong: rgba(0,0,0,0.15);
  --glass-bg: rgba(255,255,255,0.8); --glass-border: rgba(0,0,0,0.06);
  --overlay: rgba(0,0,0,0.3); --success: #16A34A; --error: #DC2626; --warning: #D97706; --info: #2563EB;
  --shadow: 0 4px 24px rgba(0,0,0,0.06); --shadow-lg: 0 8px 40px rgba(0,0,0,0.1);
  --gradient-hero: linear-gradient(135deg, rgba(217,119,6,0.08) 0%, rgba(220,38,38,0.05) 100%);
  --tab-bg: #FFFFFF; --tab-active: #D97706; --tab-inactive: #a3a3a3;
  --status-bar-style: dark;
}

/* Ocean Scholar - Dark */
[data-theme="ocean-dark"] {
  --bg-primary: #000000; --bg-secondary: #060D14; --bg-tertiary: #0C1620;
  --bg-card: #0F1923; --bg-card-hover: #162231; --bg-elevated: #1A2B3D;
  --text-primary: #F0F7FF; --text-secondary: #8BABC7; --text-tertiary: #5A7A96; --text-muted: #3D5A73;
  --accent: #06B6D4; --accent-hover: #0891B2; --accent-soft: rgba(6,182,212,0.15); --accent-glow: rgba(6,182,212,0.3);
  --accent-secondary: #3B82F6; --accent-secondary-soft: rgba(59,130,246,0.15);
  --border: rgba(96,165,250,0.1); --border-strong: rgba(96,165,250,0.2);
  --glass-bg: rgba(15,25,35,0.75); --glass-border: rgba(96,165,250,0.08);
  --overlay: rgba(0,0,0,0.6); --success: #22C55E; --error: #EF4444; --warning: #F59E0B; --info: #3B82F6;
  --shadow: 0 4px 24px rgba(0,0,0,0.5); --shadow-lg: 0 8px 40px rgba(0,0,0,0.6);
  --gradient-hero: linear-gradient(135deg, rgba(6,182,212,0.15) 0%, rgba(59,130,246,0.1) 100%);
  --tab-bg: #060D14; --tab-active: #06B6D4; --tab-inactive: #3D5A73;
  --status-bar-style: light;
}

/* Ocean Scholar - Light */
[data-theme="ocean-light"] {
  --bg-primary: #F0F7FF; --bg-secondary: #E1EFFF; --bg-tertiary: #D0E4FF;
  --bg-card: #FFFFFF; --bg-card-hover: #F5FAFF; --bg-elevated: #FFFFFF;
  --text-primary: #0C1620; --text-secondary: #3D5A73; --text-tertiary: #5A7A96; --text-muted: #8BABC7;
  --accent: #0891B2; --accent-hover: #0E7490; --accent-soft: rgba(8,145,178,0.1); --accent-glow: rgba(8,145,178,0.2);
  --accent-secondary: #2563EB; --accent-secondary-soft: rgba(37,99,235,0.1);
  --border: rgba(0,50,100,0.1); --border-strong: rgba(0,50,100,0.18);
  --glass-bg: rgba(255,255,255,0.85); --glass-border: rgba(0,50,100,0.08);
  --overlay: rgba(0,0,0,0.3); --success: #16A34A; --error: #DC2626; --warning: #D97706; --info: #2563EB;
  --shadow: 0 4px 24px rgba(0,50,100,0.06); --shadow-lg: 0 8px 40px rgba(0,50,100,0.1);
  --gradient-hero: linear-gradient(135deg, rgba(8,145,178,0.08) 0%, rgba(37,99,235,0.05) 100%);
  --tab-bg: #FFFFFF; --tab-active: #0891B2; --tab-inactive: #8BABC7;
  --status-bar-style: dark;
}

/* Obsidian Glass — Premium Dark (Style Guide) */
[data-theme="obsidian-glass"] {
  --bg-primary: #000000; --bg-secondary: #0a0a0a; --bg-tertiary: #111111;
  --bg-card: #171717; --bg-card-hover: #1c1c1c; --bg-elevated: #1c1c1c;
  --text-primary: #fafafa; --text-secondary: #949494; --text-tertiary: #6e6e6e; --text-muted: #4d4d4d;
  --accent: #4ade80; --accent-hover: #22c55e; --accent-soft: rgba(74,222,128,0.10); --accent-glow: rgba(74,222,128,0.35);
  --accent-secondary: #6366F1; --accent-secondary-soft: rgba(99,102,241,0.15);
  --border: #262626; --border-strong: #414240;
  --glass-bg: rgba(23,23,23,0.75); --glass-border: rgba(255,255,255,0.06);
  --overlay: rgba(0,0,0,0.50); --success: #4ade80; --error: #f87171; --warning: #fbbf24; --info: #007BFF;
  --shadow: 0 4px 24px rgba(0,0,0,0.5); --shadow-lg: 0 8px 40px rgba(0,0,0,0.6);
  --gradient-hero: linear-gradient(135deg, rgba(74,222,128,0.12) 0%, rgba(99,102,241,0.08) 100%);
  --tab-bg: #0a0a0a; --tab-active: #4ade80; --tab-inactive: #4d4d4d;
  --status-bar-style: light;
  --skill-listening: #6366F1; --skill-speaking: #4ade80; --skill-reading: #fbbf24;
}

/* ═══════════════════════════════════════════════
   Glassmorphism — Frosted Glass Dark
   Source: ui-ux-pro-max / style:glassmorphism
   backdrop-filter: blur(15px), rgba(255,255,255,0.1-0.3)
   border: 1px solid rgba(255,255,255,0.2)
   ═══════════════════════════════════════════════ */
[data-theme="glassmorphism"] {
  --bg-primary: #0a0a1a; --bg-secondary: #0f0f25; --bg-tertiary: rgba(255,255,255,0.04);
  --bg-card: rgba(255,255,255,0.08); --bg-card-hover: rgba(255,255,255,0.12); --bg-elevated: rgba(255,255,255,0.10);
  --text-primary: #f0f0f8; --text-secondary: #b0b0c8; --text-tertiary: #7878a0; --text-muted: #50507a;
  --accent: #06b6d4; --accent-hover: #22d3ee; --accent-soft: rgba(6,182,212,0.12); --accent-glow: rgba(6,182,212,0.40);
  --accent-secondary: #a78bfa; --accent-secondary-soft: rgba(167,139,250,0.15);
  --border: rgba(255,255,255,0.12); --border-strong: rgba(255,255,255,0.20);
  --glass-bg: rgba(255,255,255,0.08); --glass-border: rgba(255,255,255,0.15);
  --glass-blur: blur(16px);
  --overlay: rgba(0,0,0,0.60); --success: #34d399; --error: #fb7185; --warning: #fbbf24; --info: #38bdf8;
  --shadow: 0 8px 32px rgba(0,0,0,0.4); --shadow-lg: 0 16px 48px rgba(0,0,0,0.5);
  --gradient-hero: linear-gradient(135deg, rgba(6,182,212,0.15) 0%, rgba(167,139,250,0.12) 50%, rgba(236,72,153,0.08) 100%);
  --tab-bg: rgba(10,10,26,0.85); --tab-active: #06b6d4; --tab-inactive: #50507a;
  --status-bar-style: light;
  --skill-listening: #818cf8; --skill-speaking: #34d399; --skill-reading: #fbbf24;
  --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  --font-display: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
}

/* ═══════════════════════════════════════════════
   Glassmorphism Gray Dark — Neutral Frosted Glass
   ═══════════════════════════════════════════════ */
[data-theme="glass-gray-dark"] {
  --bg-primary: #0e0e0e; --bg-secondary: #161616; --bg-tertiary: rgba(255,255,255,0.04);
  --bg-card: rgba(255,255,255,0.07); --bg-card-hover: rgba(255,255,255,0.11); --bg-elevated: rgba(255,255,255,0.09);
  --text-primary: #f2f2f2; --text-secondary: #a8a8a8; --text-tertiary: #707070; --text-muted: #505050;
  --accent: #a1a1aa; --accent-hover: #d4d4d8; --accent-soft: rgba(161,161,170,0.12); --accent-glow: rgba(161,161,170,0.30);
  --accent-secondary: #71717a; --accent-secondary-soft: rgba(113,113,122,0.15);
  --border: rgba(255,255,255,0.10); --border-strong: rgba(255,255,255,0.18);
  --glass-bg: rgba(255,255,255,0.07); --glass-border: rgba(255,255,255,0.12);
  --glass-blur: blur(16px);
  --overlay: rgba(0,0,0,0.55); --success: #4ade80; --error: #f87171; --warning: #fbbf24; --info: #60a5fa;
  --shadow: 0 8px 32px rgba(0,0,0,0.35); --shadow-lg: 0 16px 48px rgba(0,0,0,0.45);
  --gradient-hero: linear-gradient(135deg, rgba(161,161,170,0.10) 0%, rgba(113,113,122,0.08) 100%);
  --tab-bg: rgba(14,14,14,0.85); --tab-active: #d4d4d8; --tab-inactive: #505050;
  --status-bar-style: light;
  --skill-listening: #818cf8; --skill-speaking: #4ade80; --skill-reading: #fbbf24;
}

/* ═══════════════════════════════════════════════
   Glassmorphism Gray Light — White Frosted Glass
   ═══════════════════════════════════════════════ */
[data-theme="glass-gray-light"] {
  --bg-primary: #f0f0f0; --bg-secondary: #e8e8e8; --bg-tertiary: rgba(0,0,0,0.03);
  --bg-card: rgba(255,255,255,0.65); --bg-card-hover: rgba(255,255,255,0.80); --bg-elevated: rgba(255,255,255,0.70);
  --text-primary: #1a1a1a; --text-secondary: #525252; --text-tertiary: #8a8a8a; --text-muted: #b0b0b0;
  --accent: #52525b; --accent-hover: #3f3f46; --accent-soft: rgba(82,82,91,0.10); --accent-glow: rgba(82,82,91,0.20);
  --accent-secondary: #71717a; --accent-secondary-soft: rgba(113,113,122,0.12);
  --border: rgba(0,0,0,0.08); --border-strong: rgba(0,0,0,0.15);
  --glass-bg: rgba(255,255,255,0.60); --glass-border: rgba(0,0,0,0.08);
  --glass-blur: blur(16px);
  --overlay: rgba(0,0,0,0.30); --success: #16a34a; --error: #dc2626; --warning: #d97706; --info: #2563eb;
  --shadow: 0 4px 20px rgba(0,0,0,0.08); --shadow-lg: 0 8px 32px rgba(0,0,0,0.12);
  --gradient-hero: linear-gradient(135deg, rgba(82,82,91,0.08) 0%, rgba(113,113,122,0.05) 100%);
  --tab-bg: rgba(240,240,240,0.85); --tab-active: #3f3f46; --tab-inactive: #b0b0b0;
  --status-bar-style: dark;
  --skill-listening: #6366f1; --skill-speaking: #16a34a; --skill-reading: #d97706;
}

/* ═══════════════════════════════════════════════
   Glassmorphism Sunset Dark — Warm Amber Frosted Glass
   ═══════════════════════════════════════════════ */
[data-theme="glass-sunset-dark"] {
  --bg-primary: #120c06; --bg-secondary: #1a1008; --bg-tertiary: rgba(255,200,100,0.04);
  --bg-card: rgba(255,180,80,0.08); --bg-card-hover: rgba(255,180,80,0.13); --bg-elevated: rgba(255,180,80,0.10);
  --text-primary: #faf5ef; --text-secondary: #c8b090; --text-tertiary: #8a7050; --text-muted: #604830;
  --accent: #f59e0b; --accent-hover: #fbbf24; --accent-soft: rgba(245,158,11,0.14); --accent-glow: rgba(245,158,11,0.40);
  --accent-secondary: #ef4444; --accent-secondary-soft: rgba(239,68,68,0.15);
  --border: rgba(255,180,80,0.12); --border-strong: rgba(255,180,80,0.22);
  --glass-bg: rgba(255,180,80,0.07); --glass-border: rgba(255,180,80,0.14);
  --glass-blur: blur(16px);
  --overlay: rgba(0,0,0,0.55); --success: #4ade80; --error: #f87171; --warning: #fbbf24; --info: #38bdf8;
  --shadow: 0 8px 32px rgba(0,0,0,0.40); --shadow-lg: 0 16px 48px rgba(0,0,0,0.50);
  --gradient-hero: linear-gradient(135deg, rgba(245,158,11,0.15) 0%, rgba(239,68,68,0.08) 50%, rgba(168,85,247,0.06) 100%);
  --tab-bg: rgba(18,12,6,0.85); --tab-active: #f59e0b; --tab-inactive: #604830;
  --status-bar-style: light;
  --skill-listening: #f59e0b; --skill-speaking: #ef4444; --skill-reading: #a855f7;
}

/* ═══════════════════════════════════════════════
   Glassmorphism Sunset Light — Warm White Frosted Glass
   ═══════════════════════════════════════════════ */
[data-theme="glass-sunset-light"] {
  --bg-primary: #fef7ed; --bg-secondary: #fef0db; --bg-tertiary: rgba(180,100,20,0.04);
  --bg-card: rgba(255,255,255,0.70); --bg-card-hover: rgba(255,255,255,0.85); --bg-elevated: rgba(255,255,255,0.75);
  --text-primary: #2c1810; --text-secondary: #6b4423; --text-tertiary: #a0784c; --text-muted: #c8a880;
  --accent: #d97706; --accent-hover: #b45309; --accent-soft: rgba(217,119,6,0.12); --accent-glow: rgba(217,119,6,0.25);
  --accent-secondary: #dc2626; --accent-secondary-soft: rgba(220,38,38,0.12);
  --border: rgba(180,100,20,0.10); --border-strong: rgba(180,100,20,0.18);
  --glass-bg: rgba(255,255,255,0.65); --glass-border: rgba(180,100,20,0.10);
  --glass-blur: blur(16px);
  --overlay: rgba(0,0,0,0.25); --success: #16a34a; --error: #dc2626; --warning: #d97706; --info: #2563eb;
  --shadow: 0 4px 20px rgba(130,70,10,0.08); --shadow-lg: 0 8px 32px rgba(130,70,10,0.12);
  --gradient-hero: linear-gradient(135deg, rgba(217,119,6,0.10) 0%, rgba(220,38,38,0.06) 100%);
  --tab-bg: rgba(254,247,237,0.90); --tab-active: #b45309; --tab-inactive: #c8a880;
  --status-bar-style: dark;
  --skill-listening: #d97706; --skill-speaking: #dc2626; --skill-reading: #7c3aed;
}

/* ============================================
   LAYOUT & FRAME
   ============================================ */

body {
  font-family: var(--font-sans);
  background: #111;
  color: #fff;
  min-height: 100vh;
}

.app-wrapper {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

/* Top Controls Bar */
.controls-bar {
  position: sticky; top: 0; z-index: 100;
  display: flex; align-items: center; justify-content: space-between;
  padding: 12px 24px;
  background: rgba(17,17,17,0.95); backdrop-filter: blur(10px);
  border-bottom: 1px solid rgba(255,255,255,0.1);
}
.controls-bar h1 { font-family: var(--font-display); font-size: 18px; font-weight: 700; }
.controls-bar .theme-btns { display: flex; gap: 6px; }
.theme-btn {
  padding: 6px 12px; border-radius: var(--r-full); border: 1px solid rgba(255,255,255,0.2);
  background: transparent; color: #ccc; font-size: 11px; cursor: pointer; transition: all 0.2s;
  font-family: var(--font-sans); font-weight: 500;
}
.theme-btn:hover { border-color: rgba(255,255,255,0.5); color: #fff; }
.theme-btn.active { background: var(--accent, #F59E0B); color: #000; border-color: transparent; font-weight: 600; }

/* Module Nav */
.module-nav {
  position: sticky; top: 53px; z-index: 99;
  display: flex; gap: 6px; padding: 10px 24px; overflow-x: auto;
  background: rgba(17,17,17,0.9); backdrop-filter: blur(10px);
  border-bottom: 1px solid rgba(255,255,255,0.06);
  scrollbar-width: none;
}
.module-nav::-webkit-scrollbar { display: none; }
.module-btn {
  flex-shrink: 0; padding: 6px 14px; border-radius: var(--r-full);
  border: 1px solid rgba(255,255,255,0.12); background: transparent;
  color: #999; font-size: 12px; cursor: pointer; transition: all 0.2s;
  font-family: var(--font-sans); font-weight: 500; white-space: nowrap;
}
.module-btn:hover { border-color: rgba(255,255,255,0.3); color: #ddd; }
.module-btn.active { background: rgba(255,255,255,0.1); color: #fff; border-color: rgba(255,255,255,0.2); }

/* Grid Layout */
.screens-grid {
  display: flex; flex-wrap: wrap; gap: 40px; padding: 32px 24px;
  justify-content: center;
}

/* Module Sections */
.module-section {
  width: 100%;
  scroll-margin-top: 110px;
}
.module-header {
  display: flex; align-items: center; gap: 12px;
  padding: 24px 0 16px; margin-bottom: 8px;
  border-bottom: 1px solid rgba(255,255,255,0.06);
}
.module-header h2 { font-family: var(--font-display); font-size: 24px; font-weight: 700; color: #fff; }
.module-header .badge {
  padding: 3px 10px; border-radius: var(--r-full); font-size: 11px;
  background: rgba(255,255,255,0.08); color: #999;
}
.module-screens { display: flex; flex-wrap: wrap; gap: 40px; justify-content: center; padding: 16px 0; }

/* ============================================
   iPHONE 16 PLUS FRAME
   ============================================ */

.phone-frame {
  width: var(--phone-w); flex-shrink: 0;
  position: relative;
}
.phone-label {
  text-align: center; margin-bottom: 10px;
  font-size: 13px; font-weight: 600; color: #888;
  letter-spacing: 0.3px;
}
.phone-sublabel {
  text-align: center; margin-top: 4px; font-size: 11px; color: #555;
}
.phone-device {
  width: var(--phone-w); height: var(--phone-h);
  border-radius: 50px;
  border: 3px solid #333;
  overflow: hidden;
  position: relative;
  box-shadow: 0 0 0 2px #1a1a1a, 0 20px 60px rgba(0,0,0,0.5);
}
.phone-notch {
  position: absolute; top: 0; left: 50%; transform: translateX(-50%);
  width: 126px; height: 34px;
  background: #000; border-radius: 0 0 20px 20px; z-index: 10;
}
.phone-home-indicator {
  position: absolute; bottom: 8px; left: 50%; transform: translateX(-50%);
  width: 134px; height: 5px;
  background: rgba(255,255,255,0.3); border-radius: 3px; z-index: 10;
}

/* Screen Content */
.screen {
  width: 100%; height: 100%;
  background: var(--bg-primary);
  color: var(--text-primary);
  display: flex; flex-direction: column;
  overflow-y: auto; overflow-x: hidden;
  font-family: var(--font-sans);
  position: relative;
}
.screen::-webkit-scrollbar { width: 0; }

/* ============================================
   STATUS BAR
   ============================================ */

.status-bar {
  display: flex; justify-content: space-between; align-items: center;
  padding: 14px 28px 6px;
  font-size: 14px; font-weight: 600;
  flex-shrink: 0;
  min-height: 54px;
}
.status-bar .time { font-weight: 700; }
.status-bar .icons { display: flex; gap: 5px; align-items: center; font-size: 12px; }

/* ============================================
   NAVIGATION COMPONENTS
   ============================================ */

/* Top App Bar */
.app-bar {
  display: flex; align-items: center; justify-content: space-between;
  padding: 4px var(--sp-base) 12px;
  flex-shrink: 0;
}
.app-bar .back { font-size: 22px; cursor: pointer; color: var(--accent); width: 40px; }
.app-bar .title { font-family: var(--font-display); font-size: 18px; font-weight: 700; flex: 1; text-align: center; }
.app-bar .action { width: 40px; text-align: right; font-size: 18px; color: var(--text-secondary); }

/* Tab Bar */
.tab-bar {
  display: flex; justify-content: space-around; align-items: center;
  padding: 8px 0 28px;
  background: var(--tab-bg);
  border-top: 1px solid var(--border);
  flex-shrink: 0;
  margin-top: auto;
}
.tab-item {
  display: flex; flex-direction: column; align-items: center; gap: 3px;
  font-size: 10px; color: var(--tab-inactive); font-weight: 500;
}
.tab-item.active { color: var(--tab-active); }
.tab-item .tab-icon { font-size: 22px; }
.tab-item .tab-dot { width: 4px; height: 4px; border-radius: 50%; background: var(--tab-active); }

/* ============================================
   COMPONENT LIBRARY
   ============================================ */

/* Section Card */
.section-card {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: var(--r-lg);
  padding: var(--sp-base);
  margin: 0 var(--sp-base) var(--sp-md);
}
.section-card.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
  border: 1px solid var(--glass-border);
}

/* Section Title */
.section-title {
  font-size: 13px; font-weight: 600; color: var(--text-secondary);
  margin-bottom: var(--sp-sm); text-transform: uppercase; letter-spacing: 0.5px;
}

/* Chips */
.chip-row { display: flex; gap: var(--sp-sm); flex-wrap: wrap; }
.chip {
  padding: 8px 16px; border-radius: var(--r-full);
  background: var(--bg-tertiary); color: var(--text-secondary);
  font-size: 13px; font-weight: 500;
  border: 1px solid transparent; transition: all 0.2s;
}
.chip.active {
  background: var(--accent-soft); color: var(--accent);
  border-color: var(--accent); font-weight: 600;
}

/* Toggle Row */
.toggle-row {
  display: flex; justify-content: space-between; align-items: center;
  padding: 12px 0;
  border-bottom: 1px solid var(--border);
}
.toggle-row:last-child { border-bottom: none; }
.toggle-label { font-size: 15px; color: var(--text-primary); }
.toggle-sub { font-size: 12px; color: var(--text-tertiary); margin-top: 2px; }
.toggle-switch {
  width: 50px; height: 30px; border-radius: 15px;
  background: var(--bg-tertiary); position: relative;
}
.toggle-switch.on { background: var(--accent); }
.toggle-switch::after {
  content: ''; position: absolute; top: 3px; left: 3px;
  width: 24px; height: 24px; border-radius: 50%;
  background: white; transition: transform 0.2s;
}
.toggle-switch.on::after { transform: translateX(20px); }

/* CTA Button */
.cta-btn {
  display: flex; align-items: center; justify-content: center; gap: 8px;
  width: calc(100% - 32px); margin: var(--sp-base);
  padding: 16px; border-radius: var(--r-lg);
  background: var(--accent); color: #000;
  font-size: 16px; font-weight: 700; font-family: var(--font-display);
  border: none; cursor: pointer; letter-spacing: 0.3px;
}
.cta-btn.secondary {
  background: var(--accent-soft); color: var(--accent); border: 1px solid var(--accent);
}

/* Progress Bar */
.progress-bar {
  width: 100%; height: 6px; border-radius: 3px;
  background: var(--bg-tertiary);
}
.progress-fill {
  height: 100%; border-radius: 3px;
  background: var(--accent);
  transition: width 0.5s ease;
}

/* Score Badge */
.score-badge {
  display: inline-flex; align-items: center; justify-content: center;
  padding: 2px 8px; border-radius: var(--r-full);
  font-size: 12px; font-weight: 600;
}
.score-badge.high { background: rgba(34,197,94,0.15); color: #22C55E; }
.score-badge.medium { background: rgba(245,158,11,0.15); color: #F59E0B; }
.score-badge.low { background: rgba(239,68,68,0.15); color: #EF4444; }

/* Skill Accent Cards */
.skill-accent { border-left: 3px solid; padding-left: 12px; }
.skill-accent.listening { border-color: var(--skill-listening); }
.skill-accent.speaking { border-color: var(--skill-speaking); }
.skill-accent.reading { border-color: var(--skill-reading); }

/* Input Field */
.input-field {
  width: 100%; padding: 12px 16px; border-radius: var(--r-md);
  background: var(--bg-tertiary); border: 1px solid var(--border);
  color: var(--text-primary); font-size: 15px; font-family: var(--font-sans);
}
.input-field::placeholder { color: var(--text-muted); }

/* Dropdown */
.dropdown {
  display: flex; align-items: center; justify-content: space-between;
  padding: 12px 16px; border-radius: var(--r-md);
  background: var(--bg-tertiary); border: 1px solid var(--border);
  color: var(--text-primary); font-size: 15px;
}
.dropdown .arrow { color: var(--text-muted); }

/* Stats Row */
.stats-row {
  display: flex; gap: var(--sp-sm); margin: var(--sp-md) var(--sp-base);
}
.stat-card {
  flex: 1; padding: 12px; border-radius: var(--r-md);
  background: var(--bg-card); border: 1px solid var(--border);
  text-align: center;
}
.stat-value { font-size: 20px; font-weight: 800; font-family: var(--font-display); color: var(--accent); }
.stat-label { font-size: 11px; color: var(--text-tertiary); margin-top: 2px; }

/* Avatar */
.avatar {
  width: 72px; height: 72px; border-radius: 50%;
  background: var(--accent-soft); border: 3px solid var(--accent);
  display: flex; align-items: center; justify-content: center;
  font-size: 28px;
}

/* Divider */
.divider {
  display: flex; align-items: center; gap: 12px;
  padding: 4px var(--sp-base); color: var(--text-tertiary); font-size: 12px; font-weight: 600;
}
.divider::before, .divider::after { content: ''; flex: 1; height: 1px; background: var(--border); }

/* List Item */
.list-item {
  display: flex; align-items: center; gap: 12px;
  padding: 14px var(--sp-base);
  border-bottom: 1px solid var(--border);
}
.list-item .li-icon { font-size: 20px; width: 28px; text-align: center; }
.list-item .li-content { flex: 1; }
.list-item .li-title { font-size: 15px; color: var(--text-primary); font-weight: 500; }
.list-item .li-sub { font-size: 12px; color: var(--text-tertiary); margin-top: 1px; }
.list-item .li-arrow { color: var(--text-muted); font-size: 14px; }

/* Bottom Sheet */
.bottom-sheet-overlay {
  position: absolute; inset: 0; background: var(--overlay); z-index: 20;
  display: flex; align-items: flex-end;
}
.bottom-sheet {
  width: 100%; background: var(--bg-card);
  border-radius: var(--r-2xl) var(--r-2xl) 0 0;
  padding: var(--sp-base);
}
.bottom-sheet .handle {
  width: 36px; height: 4px; border-radius: 2px;
  background: var(--text-muted); margin: 0 auto var(--sp-base);
}

/* Waveform */
.waveform {
  display: flex; align-items: center; gap: 2px; height: 40px;
  justify-content: center;
}
.wave-bar {
  width: 3px; border-radius: 2px; background: var(--accent);
  animation: wave 1s ease-in-out infinite;
}
.wave-bar:nth-child(1) { height: 20px; animation-delay: 0s; }
.wave-bar:nth-child(2) { height: 30px; animation-delay: 0.1s; }
.wave-bar:nth-child(3) { height: 15px; animation-delay: 0.2s; }
.wave-bar:nth-child(4) { height: 35px; animation-delay: 0.15s; }
.wave-bar:nth-child(5) { height: 25px; animation-delay: 0.25s; }
.wave-bar:nth-child(6) { height: 18px; animation-delay: 0.05s; }
.wave-bar:nth-child(7) { height: 32px; animation-delay: 0.3s; }
.wave-bar:nth-child(8) { height: 22px; animation-delay: 0.12s; }

@keyframes wave {
  0%, 100% { transform: scaleY(1); }
  50% { transform: scaleY(0.4); }
}

/* Skeleton Loading */
.skeleton {
  background: linear-gradient(90deg, var(--bg-tertiary) 25%, var(--bg-card-hover) 50%, var(--bg-tertiary) 75%);
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
  border-radius: var(--r-sm);
}
@keyframes shimmer { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }

/* Scroll Content Area */
.scroll-content {
  flex: 1; overflow-y: auto; padding-bottom: var(--sp-base);
}

/* Hero Gradient */
.hero-gradient {
  background: var(--gradient-hero);
  padding: var(--sp-xl) var(--sp-base);
  margin: 0 var(--sp-base) var(--sp-md);
  border-radius: var(--r-lg);
  border: 1px solid var(--border);
}

/* Heatmap */
.heatmap { display: grid; grid-template-columns: repeat(7, 1fr); gap: 3px; }
.heatmap-cell {
  aspect-ratio: 1; border-radius: 3px;
  background: var(--bg-tertiary);
}
.heatmap-cell.l1 { background: color-mix(in srgb, var(--accent) 25%, var(--bg-tertiary)); }
.heatmap-cell.l2 { background: color-mix(in srgb, var(--accent) 50%, var(--bg-tertiary)); }
.heatmap-cell.l3 { background: color-mix(in srgb, var(--accent) 75%, var(--bg-tertiary)); }
.heatmap-cell.l4 { background: var(--accent); }

/* Chat Bubble */
.chat-bubble {
  max-width: 80%; padding: 10px 14px; border-radius: var(--r-lg);
  font-size: 14px; line-height: 1.5; margin: 4px var(--sp-base);
}
.chat-bubble.ai {
  background: var(--bg-card); align-self: flex-start;
  border-bottom-left-radius: 4px;
}
.chat-bubble.user {
  background: var(--accent-soft); color: var(--accent); align-self: flex-end;
  border-bottom-right-radius: 4px; margin-left: auto;
}

/* Record Button */
.record-btn {
  width: 72px; height: 72px; border-radius: 50%;
  background: var(--accent-secondary, #EF4444);
  display: flex; align-items: center; justify-content: center;
  font-size: 28px; border: 4px solid var(--bg-primary);
  box-shadow: 0 0 0 4px var(--accent-secondary-soft);
}
.record-btn.recording {
  animation: pulse-record 1.5s ease-in-out infinite;
}
@keyframes pulse-record {
  0%, 100% { box-shadow: 0 0 0 4px var(--accent-secondary-soft); }
  50% { box-shadow: 0 0 0 12px var(--accent-secondary-soft); }
}

/* Playback Controls */
.playback-controls {
  display: flex; align-items: center; justify-content: center; gap: 24px;
  padding: var(--sp-base);
}
.play-btn {
  width: 56px; height: 56px; border-radius: 50%;
  background: var(--accent); color: #000;
  display: flex; align-items: center; justify-content: center;
  font-size: 24px;
}
.control-btn {
  width: 40px; height: 40px; border-radius: 50%;
  background: var(--bg-tertiary); color: var(--text-secondary);
  display: flex; align-items: center; justify-content: center;
  font-size: 16px;
}

/* Floating Mini Player */
.mini-player {
  position: absolute; bottom: 72px; left: 8px; right: 8px;
  background: var(--glass-bg); backdrop-filter: blur(16px);
  border: 1px solid var(--glass-border);
  border-radius: var(--r-lg); padding: 10px 14px;
  display: flex; align-items: center; gap: 10px;
  z-index: 5;
}

/* Empty State */
.empty-state {
  display: flex; flex-direction: column; align-items: center;
  padding: var(--sp-3xl) var(--sp-base); text-align: center;
  gap: var(--sp-md);
}
.empty-icon { font-size: 48px; opacity: 0.5; }
.empty-title { font-size: 16px; font-weight: 600; color: var(--text-secondary); }
.empty-desc { font-size: 13px; color: var(--text-tertiary); line-height: 1.5; }

/* ═══════════════════════════════════════════════
   GLASSMORPHISM THEME — Expert Refined Overrides
   Sources: NN/g (gradient borders, blur), IxDF (light direction, shadows),
            UXPilot (selective glass, animated bg, tint overlay)
   ═══════════════════════════════════════════════ */

/* --- Fix 3: Animated aurora background (UXPilot) --- */
/* "Glass chỉ sống khi nền phía sau có chuyển động và màu sắc" */
@keyframes aurora-shift {
  0%, 100% {
    background-position: 0% 50%;
  }
  25% {
    background-position: 50% 100%;
  }
  50% {
    background-position: 100% 50%;
  }
  75% {
    background-position: 50% 0%;
  }
}

[data-theme="glassmorphism"] .screen {
  background:
    radial-gradient(ellipse at 15% 85%, rgba(6,182,212,0.18) 0%, transparent 45%),
    radial-gradient(ellipse at 85% 15%, rgba(167,139,250,0.15) 0%, transparent 45%),
    radial-gradient(ellipse at 50% 50%, rgba(236,72,153,0.08) 0%, transparent 55%),
    radial-gradient(ellipse at 70% 70%, rgba(56,189,248,0.10) 0%, transparent 40%),
    #0a0a1a;
  background-size: 200% 200%;
  animation: aurora-shift 15s ease-in-out infinite;
}

/* --- Fix 1+2+5+6+7: Glass section cards (NN/g + IxDF + UXPilot) ---
   Gradient fill (khúc xạ ánh sáng), gradient border (độ dày kính),
   rim light trên cạnh (hướng sáng nhất quán), tint overlay (đọc chữ),
   dual shadow (độ sâu lớp) */
[data-theme="glassmorphism"] .section-card {
  background:
    linear-gradient(
      145deg,
      rgba(255,255,255,0.12) 0%,
      rgba(255,255,255,0.04) 50%,
      rgba(10,10,30,0.20) 100%
    );
  backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
  border: 1px solid transparent;
  border-image: linear-gradient(
    145deg,
    rgba(255,255,255,0.30) 0%,
    rgba(255,255,255,0.08) 50%,
    rgba(255,255,255,0.02) 100%
  ) 1;
  border-radius: var(--r-lg);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.15),
    0 2px 8px rgba(0,0,0,0.20),
    0 8px 32px rgba(0,0,0,0.15);
}
/* Workaround: border-image phá border-radius, dùng pseudo thay thế */
[data-theme="glassmorphism"] .section-card {
  border-image: none;
  border: none;
  position: relative;
  overflow: hidden;
}
[data-theme="glassmorphism"] .section-card::before {
  content: '';
  position: absolute; inset: 0;
  border-radius: inherit;
  padding: 1px;
  background: linear-gradient(
    145deg,
    rgba(255,255,255,0.30) 0%,
    rgba(255,255,255,0.08) 50%,
    rgba(255,255,255,0.02) 100%
  );
  -webkit-mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
}

/* --- Glass bottom sheet (NN/g gradient border + IxDF rim light) --- */
/* "Tấm kính phía dưới cần blur mạnh hơn, tint đậm hơn cho readability" */
[data-theme="glassmorphism"] .bottom-sheet {
  background:
    linear-gradient(
      180deg,
      rgba(255,255,255,0.08) 0%,
      rgba(15,15,37,0.85) 15%
    );
  backdrop-filter: blur(28px); -webkit-backdrop-filter: blur(28px);
  border: none; border-bottom: none;
  position: relative;
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.18),
    0 -4px 16px rgba(0,0,0,0.30),
    0 -12px 48px rgba(0,0,0,0.25);
}
[data-theme="glassmorphism"] .bottom-sheet::before {
  content: '';
  position: absolute; inset: 0;
  border-radius: inherit;
  padding: 1px;
  background: linear-gradient(
    180deg,
    rgba(255,255,255,0.25) 0%,
    rgba(255,255,255,0.05) 40%,
    transparent 100%
  );
  -webkit-mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
}

/* --- Glass tab bar (giữ glass + thêm rim light) --- */
[data-theme="glassmorphism"] .tab-bar {
  background: rgba(10,10,26,0.70);
  backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
  border-top: 1px solid rgba(255,255,255,0.12);
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.08);
}

/* --- Fix 4: REMOVE glass from app-bar (UXPilot: giữ nav opaque) ---
   "Keeping navigation elements opaque aids users with visual impairments" (IxDF) */
/* Không override .app-bar — giữ solid cho tương phản */

/* --- Fix 4: REMOVE glass from chips (UXPilot: chỉ glass cho element chính) ---
   Chips dùng solid background, chỉ giữ subtle border cho sạch */
[data-theme="glassmorphism"] .chip {
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.10);
  /* Không backdrop-filter — tiết kiệm performance */
}
[data-theme="glassmorphism"] .chip.active {
  background: rgba(6,182,212,0.18);
  border-color: rgba(6,182,212,0.50);
  color: #22d3ee;
  box-shadow: 0 0 12px rgba(6,182,212,0.20);
}

/* --- Glass toggle track --- */
[data-theme="glassmorphism"] .toggle-switch {
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.10);
}
[data-theme="glassmorphism"] .toggle-switch.on {
  background: var(--accent);
  border-color: transparent;
  box-shadow: 0 0 16px var(--accent-glow);
}

/* --- Fix 8: CTA button — opaque + stronger glow (IxDF: buttons nổi bật) --- */
[data-theme="glassmorphism"] .cta-btn {
  background: linear-gradient(135deg, #06b6d4, #0891b2);
  box-shadow:
    0 4px 20px rgba(6,182,212,0.40),
    0 0 40px rgba(6,182,212,0.15),
    inset 0 1px 0 rgba(255,255,255,0.20);
  color: #fff;
}
[data-theme="glassmorphism"] .cta-btn.secondary {
  background: rgba(6,182,212,0.12);
  border: 1px solid rgba(6,182,212,0.40);
  color: #22d3ee;
  box-shadow: 0 0 20px rgba(6,182,212,0.12);
}

/* --- Fix 4: REMOVE glass from input-field (UXPilot: solid cho readability) ---
   "Đừng bọc blur lên mọi thứ" — input dùng background đủ tối */
[data-theme="glassmorphism"] .input-field {
  background: rgba(10,10,30,0.60);
  border: 1px solid rgba(255,255,255,0.12);
  /* Không backdrop-filter */
}

/* --- Glass progress bar --- */
[data-theme="glassmorphism"] .progress-bar {
  background: rgba(255,255,255,0.06);
}
[data-theme="glassmorphism"] .progress-fill {
  background: linear-gradient(90deg, #06b6d4, #a78bfa);
  box-shadow: 0 0 10px rgba(6,182,212,0.45);
}

/* --- Glass hero gradient (gradient fill + shadow) --- */
[data-theme="glassmorphism"] .hero-gradient {
  background:
    linear-gradient(
      145deg,
      rgba(255,255,255,0.08) 0%,
      rgba(255,255,255,0.02) 100%
    );
  backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px);
  border: none;
  position: relative;
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.12),
    0 4px 20px rgba(0,0,0,0.20);
}
[data-theme="glassmorphism"] .hero-gradient::before {
  content: '';
  position: absolute; inset: 0;
  border-radius: inherit;
  padding: 1px;
  background: linear-gradient(
    145deg,
    rgba(255,255,255,0.20) 0%,
    rgba(255,255,255,0.05) 100%
  );
  -webkit-mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
}

/* --- Glass stat cards (same gradient fill + border pattern) --- */
[data-theme="glassmorphism"] .stat-card {
  background:
    linear-gradient(
      145deg,
      rgba(255,255,255,0.10) 0%,
      rgba(255,255,255,0.03) 100%
    );
  backdrop-filter: blur(14px); -webkit-backdrop-filter: blur(14px);
  border: none;
  position: relative;
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.12),
    0 2px 8px rgba(0,0,0,0.18);
}
[data-theme="glassmorphism"] .stat-card::before {
  content: '';
  position: absolute; inset: 0;
  border-radius: inherit;
  padding: 1px;
  background: linear-gradient(
    145deg,
    rgba(255,255,255,0.22) 0%,
    rgba(255,255,255,0.04) 100%
  );
  -webkit-mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
}

/* --- Glass mini player (strongest blur for floating element) --- */
[data-theme="glassmorphism"] .mini-player {
  background:
    linear-gradient(
      145deg,
      rgba(255,255,255,0.10) 0%,
      rgba(15,15,37,0.75) 100%
    );
  backdrop-filter: blur(24px); -webkit-backdrop-filter: blur(24px);
  border: none;
  position: relative;
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.15),
    0 4px 16px rgba(0,0,0,0.30),
    0 12px 40px rgba(0,0,0,0.20);
}
[data-theme="glassmorphism"] .mini-player::before {
  content: '';
  position: absolute; inset: 0;
  border-radius: inherit;
  padding: 1px;
  background: linear-gradient(
    145deg,
    rgba(255,255,255,0.28) 0%,
    rgba(255,255,255,0.06) 100%
  );
  -webkit-mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
}

/* --- Glass play button (opaque + glow) --- */
[data-theme="glassmorphism"] .play-btn {
  background: linear-gradient(135deg, #06b6d4, #0891b2);
  box-shadow: 0 0 24px rgba(6,182,212,0.45);
  color: #fff;
}

/* --- Glass chat bubbles --- */
[data-theme="glassmorphism"] .chat-bubble.ai {
  background:
    linear-gradient(
      145deg,
      rgba(255,255,255,0.08) 0%,
      rgba(255,255,255,0.03) 100%
    );
  backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.10);
}
[data-theme="glassmorphism"] .chat-bubble.user {
  background: rgba(6,182,212,0.15);
  color: #22d3ee;
}

/* ═══════════════════════════════════════════════
   GLASS VARIANTS — Shared Component Overrides
   Reuse the same glass card/sheet/tab patterns for
   all 4 new glass themes (gray-dark/light, sunset-dark/light)
   ═══════════════════════════════════════════════ */

/* --- Aurora backgrounds per glass variant --- */

/* Glass nền xám: neutral aurora chỉ dùng trắng/xám mờ, tĩnh hơn */
[data-theme="glass-gray-dark"] .screen {
  background:
    radial-gradient(ellipse at 20% 75%, rgba(161,161,170,0.10) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 25%, rgba(113,113,122,0.08) 0%, transparent 50%),
    #0e0e0e;
  background-size: 200% 200%;
  animation: aurora-shift 20s ease-in-out infinite;
}

/* Glass xám sáng: nhẹ nhàng, gradient ấm nhạt */
[data-theme="glass-gray-light"] .screen {
  background:
    radial-gradient(ellipse at 25% 80%, rgba(82,82,91,0.06) 0%, transparent 50%),
    radial-gradient(ellipse at 75% 20%, rgba(113,113,122,0.05) 0%, transparent 50%),
    #f0f0f0;
  background-size: 200% 200%;
  animation: aurora-shift 20s ease-in-out infinite;
}

/* Glass sunset đậm: aurora ấm amber/đỏ/tím */
[data-theme="glass-sunset-dark"] .screen {
  background:
    radial-gradient(ellipse at 15% 85%, rgba(245,158,11,0.18) 0%, transparent 45%),
    radial-gradient(ellipse at 85% 15%, rgba(239,68,68,0.10) 0%, transparent 45%),
    radial-gradient(ellipse at 50% 50%, rgba(168,85,247,0.06) 0%, transparent 55%),
    #120c06;
  background-size: 200% 200%;
  animation: aurora-shift 15s ease-in-out infinite;
}

/* Glass sunset sáng: gradient nhẹ ấm */
[data-theme="glass-sunset-light"] .screen {
  background:
    radial-gradient(ellipse at 20% 80%, rgba(217,119,6,0.10) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 20%, rgba(220,38,38,0.06) 0%, transparent 50%),
    #fef7ed;
  background-size: 200% 200%;
  animation: aurora-shift 20s ease-in-out infinite;
}

/* --- Shared glass cards: all dark glass variants --- */
[data-theme="glass-gray-dark"] .section-card,
[data-theme="glass-sunset-dark"] .section-card {
  background:
    linear-gradient(
      145deg,
      rgba(255,255,255,0.10) 0%,
      rgba(255,255,255,0.03) 50%,
      rgba(10,10,10,0.18) 100%
    );
  backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
  border: none; position: relative; overflow: hidden;
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.12),
    0 2px 8px rgba(0,0,0,0.18),
    0 8px 32px rgba(0,0,0,0.12);
}
[data-theme="glass-gray-dark"] .section-card::before,
[data-theme="glass-sunset-dark"] .section-card::before {
  content: '';
  position: absolute; inset: 0;
  border-radius: inherit; padding: 1px;
  background: linear-gradient(
    145deg,
    rgba(255,255,255,0.25) 0%,
    rgba(255,255,255,0.06) 50%,
    rgba(255,255,255,0.02) 100%
  );
  -webkit-mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
}

/* --- Shared glass cards: all light glass variants --- */
[data-theme="glass-gray-light"] .section-card,
[data-theme="glass-sunset-light"] .section-card {
  background:
    linear-gradient(
      145deg,
      rgba(255,255,255,0.80) 0%,
      rgba(255,255,255,0.55) 100%
    );
  backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px);
  border: none; position: relative; overflow: hidden;
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.90),
    0 2px 8px rgba(0,0,0,0.06),
    0 8px 24px rgba(0,0,0,0.04);
}
[data-theme="glass-gray-light"] .section-card::before,
[data-theme="glass-sunset-light"] .section-card::before {
  content: '';
  position: absolute; inset: 0;
  border-radius: inherit; padding: 1px;
  background: linear-gradient(
    145deg,
    rgba(255,255,255,0.95) 0%,
    rgba(0,0,0,0.05) 100%
  );
  -webkit-mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
}

/* --- Shared glass bottom sheet: dark variants --- */
[data-theme="glass-gray-dark"] .bottom-sheet,
[data-theme="glass-sunset-dark"] .bottom-sheet {
  background:
    linear-gradient(180deg, rgba(255,255,255,0.06) 0%, rgba(20,20,20,0.88) 15%);
  backdrop-filter: blur(28px); -webkit-backdrop-filter: blur(28px);
  border: none; position: relative;
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.15),
    0 -4px 16px rgba(0,0,0,0.25),
    0 -12px 48px rgba(0,0,0,0.18);
}
[data-theme="glass-gray-dark"] .bottom-sheet::before,
[data-theme="glass-sunset-dark"] .bottom-sheet::before {
  content: '';
  position: absolute; inset: 0;
  border-radius: inherit; padding: 1px;
  background: linear-gradient(
    180deg,
    rgba(255,255,255,0.22) 0%,
    rgba(255,255,255,0.04) 40%,
    transparent 100%
  );
  -webkit-mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
}

/* --- Shared glass bottom sheet: light variants --- */
[data-theme="glass-gray-light"] .bottom-sheet,
[data-theme="glass-sunset-light"] .bottom-sheet {
  background:
    linear-gradient(180deg, rgba(255,255,255,0.90) 0%, rgba(255,255,255,0.75) 100%);
  backdrop-filter: blur(24px); -webkit-backdrop-filter: blur(24px);
  border: none; position: relative;
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.95),
    0 -4px 12px rgba(0,0,0,0.06),
    0 -8px 32px rgba(0,0,0,0.04);
}

/* --- Shared glass tab bar: all variants --- */
[data-theme="glass-gray-dark"] .tab-bar,
[data-theme="glass-sunset-dark"] .tab-bar {
  background: rgba(14,14,14,0.70);
  backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
  border-top: 1px solid rgba(255,255,255,0.10);
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.06);
}
[data-theme="glass-gray-light"] .tab-bar,
[data-theme="glass-sunset-light"] .tab-bar {
  background: rgba(255,255,255,0.70);
  backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
  border-top: 1px solid rgba(0,0,0,0.06);
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.80);
}

/* --- Shared glass chips: dark --- */
[data-theme="glass-gray-dark"] .chip,
[data-theme="glass-sunset-dark"] .chip {
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.10);
}
[data-theme="glass-gray-dark"] .chip.active { background: rgba(161,161,170,0.18); border-color: rgba(161,161,170,0.50); color: #d4d4d8; }
[data-theme="glass-sunset-dark"] .chip.active { background: rgba(245,158,11,0.18); border-color: rgba(245,158,11,0.50); color: #fbbf24; }

/* --- Shared glass chips: light --- */
[data-theme="glass-gray-light"] .chip,
[data-theme="glass-sunset-light"] .chip {
  background: rgba(255,255,255,0.60);
  border: 1px solid rgba(0,0,0,0.06);
}
[data-theme="glass-gray-light"] .chip.active { background: rgba(82,82,91,0.12); border-color: rgba(82,82,91,0.30); color: #3f3f46; }
[data-theme="glass-sunset-light"] .chip.active { background: rgba(217,119,6,0.12); border-color: rgba(217,119,6,0.30); color: #b45309; }

/* --- CTA buttons: dark glass variants --- */
[data-theme="glass-gray-dark"] .cta-btn {
  background: linear-gradient(135deg, #a1a1aa, #71717a); color: #000;
  box-shadow: 0 4px 20px rgba(161,161,170,0.30), inset 0 1px 0 rgba(255,255,255,0.18);
}
[data-theme="glass-sunset-dark"] .cta-btn {
  background: linear-gradient(135deg, #f59e0b, #d97706); color: #000;
  box-shadow: 0 4px 20px rgba(245,158,11,0.40), inset 0 1px 0 rgba(255,255,255,0.18);
}

/* --- CTA buttons: light glass variants --- */
[data-theme="glass-gray-light"] .cta-btn {
  background: linear-gradient(135deg, #52525b, #3f3f46); color: #fff;
  box-shadow: 0 4px 16px rgba(82,82,91,0.20);
}
[data-theme="glass-sunset-light"] .cta-btn {
  background: linear-gradient(135deg, #d97706, #b45309); color: #fff;
  box-shadow: 0 4px 16px rgba(217,119,6,0.25);
}

/* --- CTA secondary: dark --- */
[data-theme="glass-gray-dark"] .cta-btn.secondary { background: rgba(161,161,170,0.10); border: 1px solid rgba(161,161,170,0.30); color: #d4d4d8; }
[data-theme="glass-sunset-dark"] .cta-btn.secondary { background: rgba(245,158,11,0.10); border: 1px solid rgba(245,158,11,0.35); color: #fbbf24; }

/* --- CTA secondary: light --- */
[data-theme="glass-gray-light"] .cta-btn.secondary { background: rgba(82,82,91,0.08); border: 1px solid rgba(82,82,91,0.20); color: #3f3f46; }
[data-theme="glass-sunset-light"] .cta-btn.secondary { background: rgba(217,119,6,0.08); border: 1px solid rgba(217,119,6,0.20); color: #b45309; }

/* --- Toggle switch: dark --- */
[data-theme="glass-gray-dark"] .toggle-switch,
[data-theme="glass-sunset-dark"] .toggle-switch {
  background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.10);
}
[data-theme="glass-gray-dark"] .toggle-switch.on { background: #a1a1aa; box-shadow: 0 0 12px rgba(161,161,170,0.30); }
[data-theme="glass-sunset-dark"] .toggle-switch.on { background: #f59e0b; box-shadow: 0 0 12px rgba(245,158,11,0.40); }

/* --- Toggle switch: light --- */
[data-theme="glass-gray-light"] .toggle-switch,
[data-theme="glass-sunset-light"] .toggle-switch {
  background: rgba(0,0,0,0.06); border: 1px solid rgba(0,0,0,0.08);
}
[data-theme="glass-gray-light"] .toggle-switch.on { background: #52525b; }
[data-theme="glass-sunset-light"] .toggle-switch.on { background: #d97706; }

/* --- Progress fill: dark --- */
[data-theme="glass-gray-dark"] .progress-fill { background: linear-gradient(90deg, #a1a1aa, #d4d4d8); }
[data-theme="glass-sunset-dark"] .progress-fill { background: linear-gradient(90deg, #f59e0b, #ef4444); box-shadow: 0 0 8px rgba(245,158,11,0.40); }

/* --- Progress fill: light --- */
[data-theme="glass-gray-light"] .progress-fill { background: linear-gradient(90deg, #52525b, #71717a); }
[data-theme="glass-sunset-light"] .progress-fill { background: linear-gradient(90deg, #d97706, #dc2626); }

/* --- Input + stat cards: dark --- */
[data-theme="glass-gray-dark"] .input-field,
[data-theme="glass-sunset-dark"] .input-field {
  background: rgba(10,10,10,0.55); border: 1px solid rgba(255,255,255,0.10);
}
[data-theme="glass-gray-dark"] .stat-card,
[data-theme="glass-sunset-dark"] .stat-card {
  background: linear-gradient(145deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.02) 100%);
  backdrop-filter: blur(14px); -webkit-backdrop-filter: blur(14px);
  border: none; position: relative;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.10), 0 2px 8px rgba(0,0,0,0.15);
}

/* --- Input + stat cards: light --- */
[data-theme="glass-gray-light"] .input-field,
[data-theme="glass-sunset-light"] .input-field {
  background: rgba(255,255,255,0.70); border: 1px solid rgba(0,0,0,0.08);
}
[data-theme="glass-gray-light"] .stat-card,
[data-theme="glass-sunset-light"] .stat-card {
  background: linear-gradient(145deg, rgba(255,255,255,0.75) 0%, rgba(255,255,255,0.50) 100%);
  backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
  border: none;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.90), 0 2px 8px rgba(0,0,0,0.05);
}

/* --- Play / mini-player: dark variants --- */
[data-theme="glass-gray-dark"] .play-btn { background: linear-gradient(135deg, #a1a1aa, #71717a); color: #000; }
[data-theme="glass-sunset-dark"] .play-btn { background: linear-gradient(135deg, #f59e0b, #d97706); color: #000; box-shadow: 0 0 20px rgba(245,158,11,0.35); }
[data-theme="glass-gray-dark"] .mini-player,
[data-theme="glass-sunset-dark"] .mini-player {
  background: linear-gradient(145deg, rgba(255,255,255,0.08) 0%, rgba(20,20,20,0.75) 100%);
  backdrop-filter: blur(24px); -webkit-backdrop-filter: blur(24px);
  border: none;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.12), 0 4px 16px rgba(0,0,0,0.25);
}

/* --- Play / mini-player: light variants --- */
[data-theme="glass-gray-light"] .play-btn { background: linear-gradient(135deg, #52525b, #3f3f46); color: #fff; }
[data-theme="glass-sunset-light"] .play-btn { background: linear-gradient(135deg, #d97706, #b45309); color: #fff; }
[data-theme="glass-gray-light"] .mini-player,
[data-theme="glass-sunset-light"] .mini-player {
  background: linear-gradient(145deg, rgba(255,255,255,0.85) 0%, rgba(255,255,255,0.60) 100%);
  backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
  border: none;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.90), 0 4px 12px rgba(0,0,0,0.06);
}

