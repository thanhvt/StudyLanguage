# ðŸ‘¤ Profile & Settings Feature - Mobile

> **Module:** Profile & Settings  
> **Priority:** P1 (Core)  
> **Phase:** MVP

---

## 1. Overview

Module quáº£n lÃ½ há»“ sÆ¡ ngÆ°á»i dÃ¹ng vÃ  cÃ i Ä‘áº·t á»©ng dá»¥ng.

### 1.1 Key Areas

| Area | Description |
|------|-------------|
| **Profile** | User info, statistics |
| **Appearance** | Theme, font, language |
| **Audio** | Voice, speed, music |
| **Privacy** | Data, recordings |

---

## 2. UI Mockups

### 2.1 Profile Screen

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ðŸ‘¤ Profile                 âš™ï¸  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚         [Avatar]                â”‚
â”‚      ThÃ nh VÅ© Trá»‹nh             â”‚
â”‚  thanhvt1.ho@gmail.com          â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ðŸ“Š Statistics                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ðŸ”¥ Streakâ”‚ â±ï¸ Time â”‚ ðŸ“š Wordsâ”‚â”‚
â”‚  â”‚  7 days â”‚ 3.5 hrs â”‚  156   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚  ðŸ—£ï¸ Speaking Goal: 8/10 (NEW âœ¨) â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ðŸ“ˆ This Week                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  M  T  W  T  F  S  S    â”‚   â”‚
â”‚  â”‚  â—  â—  â—  â—  â—‹  â—‹  â—‹    â”‚   â”‚
â”‚  â”‚ 15 20 10 25           minâ”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âš™ï¸ Settings                    â”‚
â”‚  â€º Appearance                   â”‚
â”‚  â€º Audio Settings               â”‚
â”‚  â€º Privacy                      â”‚
â”‚  â€º About                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ðŸšª ÄÄƒng xuáº¥t                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Specs:**
- Avatar: Tap to change (camera/gallery)
- Stats: Quick overview cards
- Week view: Activity dots + minutes
- Settings: Navigation list

### 2.2 Appearance Settings

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Appearance               âœ“  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  ðŸŽ¨ Theme                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ [â˜€ï¸ Light] [ðŸŒ™ Dark] [ðŸ“± Auto]â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â”‚  ðŸŽ¨ Accent Color                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ðŸŸ¢ ðŸ”µ ðŸŸ£ ðŸŸ  ðŸ”´ ðŸ©·       â”‚   â”‚
â”‚  â”‚  â—                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â”‚  ðŸ”¤ Font Size                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Small  [Medium]  Large  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â”‚  Preview:                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ The quick brown fox     â”‚   â”‚
â”‚  â”‚ jumps over the lazy dog â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â”‚  ðŸŒ Language                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ [English] [Tiáº¿ng Viá»‡t]  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 Audio Settings

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Audio Settings           âœ“  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  ðŸŽµ Background Music            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ [ON]                    â”‚   â”‚
â”‚  â”‚ ðŸŽµ Lofi Study Chill     â”‚   â”‚
â”‚  â”‚ [â®ï¸] [â¯ï¸] [â­ï¸] [ðŸ”€]      â”‚   â”‚
â”‚  â”‚ Volume: â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â€º Chi tiáº¿t: 10_Native_Features â”‚
â”‚                                 â”‚
â”‚  ðŸ”‰ Smart Ducking               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ [ON]                    â”‚   â”‚
â”‚  â”‚ Tá»± giáº£m nháº¡c khi lesson â”‚   â”‚
â”‚  â”‚ audio Ä‘ang phÃ¡t          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â”‚  ðŸ”Š Sound Effects               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ [ON]                    â”‚   â”‚
â”‚  â”‚ Success/Error sounds    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â”‚  âš¡ Default Playback Speed      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ 0.5 0.8 [1.0] 1.2 1.5 2.0 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â”‚  ðŸ¤– Auto-play Audio             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ [ON]                    â”‚   â”‚
â”‚  â”‚ Auto play next sentence â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â”‚  ðŸ™Œ Hands-free Mode             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ [OFF]                   â”‚   â”‚
â”‚  â”‚ Complete lesson without â”‚   â”‚
â”‚  â”‚ touching screen         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â”‚  ðŸ—£ï¸ AI Voice Settings           â”‚
â”‚  [ Configure in Listening > ]   â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.4 Privacy Settings

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Privacy                  âœ“  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  ðŸŽ¤ Save Recordings             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ [ON]                    â”‚   â”‚
â”‚  â”‚ Keep speaking practice  â”‚   â”‚
â”‚  â”‚ recordings for review   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â”‚  ðŸ—‘ï¸ Auto-delete Recordings      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ After: [30] [60] [90] daysâ”‚  â”‚
â”‚  â”‚              â—           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â”‚  â˜ï¸ Data Sync                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ [ON]                    â”‚   â”‚
â”‚  â”‚ Sync progress across    â”‚   â”‚
â”‚  â”‚ all your devices        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   ðŸ“¤ Export My Data     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   ðŸ—‘ï¸ Delete All Data    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.5 About Screen

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† About                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚         ðŸ“š                      â”‚
â”‚    StudyLanguage               â”‚
â”‚    Version 1.0.0               â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  â€º Terms of Service             â”‚
â”‚  â€º Privacy Policy               â”‚
â”‚  â€º Licenses                     â”‚
â”‚  â€º Contact Support              â”‚
â”‚  â€º Rate the App                 â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  Made with â¤ï¸ for learning      â”‚
â”‚  Â© 2026 StudyLanguage           â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.6 Logout Confirmation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                 â”‚
â”‚         ÄÄƒng xuáº¥t?              â”‚
â”‚                                 â”‚
â”‚  Báº¡n cÃ³ cháº¯c muá»‘n Ä‘Äƒng xuáº¥t    â”‚
â”‚  khá»i tÃ i khoáº£n?                â”‚
â”‚                                 â”‚
â”‚  Dá»¯ liá»‡u chÆ°a sync sáº½ bá»‹ máº¥t.   â”‚
â”‚                                 â”‚
â”‚  [Há»§y]         [ÄÄƒng xuáº¥t]     â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. Settings Details

### 3.1 Appearance Options

| Setting | Options | Default |
|---------|---------|---------|
| Theme | Light / Dark / Auto | Auto |
| Accent Color | 6 colors | Green |
| Font Size | Small / Medium / Large | Medium |
| Language | English / Vietnamese | Vietnamese |

### 3.2 Audio Options

| Setting | Options | Default |
|---------|---------|---------|
| Background Music | ON/OFF + Volume | ON, 50% |
| Music Ducking | ON/OFF | ON |
| Sound Effects | ON/OFF | ON |
| Playback Speed | 0.5x - 2.0x | 1.0x |
| Auto-play | ON/OFF | ON |
| Hands-free | ON/OFF | OFF |
| AI Voice | Config in Listening | - |

### 3.3 Privacy Options

| Setting | Options | Default |
|---------|---------|---------|
| Save Recordings | ON/OFF | ON |
| Auto-delete | 30/60/90 days | 60 days |
| Data Sync | ON/OFF | ON |

---

## 4. Technical Implementation

### 4.1 Storage

```typescript
// AsyncStorage keys
const SETTINGS_KEYS = {
  THEME: '@settings/theme',
  ACCENT_COLOR: '@settings/accentColor',
  FONT_SIZE: '@settings/fontSize',
  LANGUAGE: '@settings/language',

  AUDIO: '@settings/audio',
  PRIVACY: '@settings/privacy',
};
```

### 4.2 State Structure

```typescript
interface SettingsState {
  appearance: {
    theme: 'light' | 'dark' | 'auto';
    accentColor: string;
    fontSize: 'small' | 'medium' | 'large';
    language: 'en' | 'vi';
  };
  

  
  audio: {
    backgroundMusic: { enabled: boolean; volume: number };
    musicDucking: boolean;
    soundEffects: boolean; // NEW âœ¨
    playbackSpeed: number; // 0.5 - 2.0
    autoPlay: boolean; // NEW âœ¨
    handsFree: boolean; // NEW âœ¨
  };
  
  privacy: {
    saveRecordings: boolean;
    autoDeleteDays: 30 | 60 | 90;
    dataSync: boolean;
  };
}
```

---

## 5. Implementation Tasks

### MVP Phase
- [ ] Profile screen with user info
- [ ] Basic stats display
- [ ] **Week activity chart component** (dots + minutes) (NEW âœ¨)
- [ ] Theme toggle (Light/Dark)
- [ ] Logout functionality
- [ ] About screen

### Enhanced Phase
- [ ] Full appearance settings
- [ ] **Accent color picker** (6 colors) (NEW âœ¨)
- [ ] **Avatar change** (camera/gallery picker) (NEW âœ¨)
- [ ] **Speaking goal display** (e.g. 8/10) (NEW âœ¨)

- [ ] Audio settings (Music, SFX, Speed)
- [ ] Auto-play & Hands-free logic

- [ ] Privacy settings
- [ ] Export/Delete data

---

## 6. API Reference

> **Base URL:** `/api`  
> **Auth:** Táº¥t cáº£ endpoints yÃªu cáº§u `Authorization: Bearer <Supabase JWT>` (trá»« Feedback submit)

### 6.1 User Module (`/api/user`)

#### `GET /api/user/stats`

> Láº¥y stats tá»•ng quan cho Dashboard/Profile

**Response:**

```json
{
  "streak": 7,
  "totalMinutes": 500,
  "level": "intermediate",
  "goals": { "daily": 30, "completed": 25 },
  "totalSessions": 42
}
```

---

#### `GET /api/user/word-of-the-day`

> Láº¥y tá»« vá»±ng cá»§a ngÃ y hÃ´m nay

**Response:**

```json
{
  "success": true,
  "word": {
    "word": "serendipity",
    "ipa": "/ËŒsÉ›r.É™nËˆdÉªp.Éª.ti/",
    "meaning": "Sá»± tÃ¬nh cá» may máº¯n",
    "example": "Finding that book was pure serendipity."
  }
}
```

---

#### `GET /api/user/last-session`

> Láº¥y session cuá»‘i cÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ "Continue Last Lesson"

**Response:** Session object hoáº·c `null`

---

#### `PATCH /api/user/profile`

> Cáº­p nháº­t thÃ´ng tin profile

**Request Body:**

| Field | Type | Required | MÃ´ táº£ |
|---|---|---|---|
| `displayName` | string | âŒ | TÃªn hiá»ƒn thá»‹ má»›i |
| `avatarUrl` | string | âŒ | URL avatar má»›i |

---

#### `POST /api/user/avatar`

> Upload áº£nh avatar (multipart form-data)

**Request:** `multipart/form-data`

| Field | Type | Required | MÃ´ táº£ |
|---|---|---|---|
| `avatar` | File | âœ… | File áº£nh avatar |

**Response:**

```json
{ "avatarUrl": "https://supabase-storage-url/avatars/user-id.jpg" }
```

---

#### `GET /api/user/gamification`

> Láº¥y dá»¯ liá»‡u XP, level, badges, goals

**Response:**

```json
{
  "xp": 1250,
  "level": 5,
  "badges": [{ "id": "streak_7", "name": "7-Day Streak", "unlockedAt": "..." }],
  "dailyGoal": { "target": 10, "completed": 8 }
}
```

---

#### `POST /api/user/gamification/check-badge`

> Kiá»ƒm tra vÃ  unlock badges má»›i sau má»—i lesson

**Request Body:**

| Field | Type | Required | MÃ´ táº£ |
|---|---|---|---|
| `totalSessions` | number | âŒ | Tá»•ng sá»‘ sessions Ä‘Ã£ hoÃ n thÃ nh |
| `totalMinutes` | number | âŒ | Tá»•ng sá»‘ phÃºt há»c |
| `streak` | number | âŒ | Streak hiá»‡n táº¡i |

**Response:**

```json
{
  "newBadges": [{ "id": "first_50", "name": "50 Sessions", "icon": "ðŸ†" }]
}
```

---

#### `GET /api/user/settings`

> Láº¥y settings Ä‘á»“ng bá»™ tá»« server

**Response:**

```json
{
  "settings": {
    "theme": "dark",
    "fontSize": "medium",
    "ttsProvider": "azure",
    "notifications": true
  }
}
```

---

#### `PUT /api/user/settings`

> Sync settings lÃªn server (overwrite)

**Request Body:**

| Field | Type | Required | MÃ´ táº£ |
|---|---|---|---|
| `settings` | object | âœ… | JSON object chá»©a toÃ n bá»™ settings |

---

#### `POST /api/user/export-data`

> Export toÃ n bá»™ data (GDPR compliance)

**Response:** JSON chá»©a táº¥t cáº£ data cá»§a user

---

#### `DELETE /api/user/delete-account`

> âš ï¸ XÃ³a account vÃ  toÃ n bá»™ data (KHÃ”NG THá»‚ hoÃ n tÃ¡c)

**Response:**

```json
{ "success": true, "message": "TÃ i khoáº£n Ä‘Ã£ Ä‘Æ°á»£c xÃ³a vÄ©nh viá»…n" }
```

---

### 6.2 Notifications Module (`/api/notifications`)

#### `POST /api/notifications/register-device`

> ÄÄƒng kÃ½ FCM/APNs token cho push notification

**Request Body:**

| Field | Type | Required | MÃ´ táº£ |
|---|---|---|---|
| `token` | string | âœ… | FCM/APNs device token |
| `platform` | enum | âœ… | `ios` \| `android` |

---

#### `POST /api/notifications/send`

> Gá»­i push notification (internal/admin)

**Request Body:**

| Field | Type | Required | MÃ´ táº£ |
|---|---|---|---|
| `userId` | string | âœ… | ID user nháº­n notification |
| `title` | string | âœ… | TiÃªu Ä‘á» |
| `body` | string | âœ… | Ná»™i dung |
| `data` | object | âŒ | Data payload tÃ¹y chá»‰nh |

---

#### `DELETE /api/notifications/unregister`

> XÃ³a device token khi user logout

**Request Body:**

| Field | Type | Required | MÃ´ táº£ |
|---|---|---|---|
| `token` | string | âœ… | Token cáº§n xÃ³a |

---

### 6.3 Feedback Module (`/api/feedback`)

#### `POST /api/feedback`

> Gá»­i gÃ³p Ã½/pháº£n há»“i (ðŸ”“ khÃ´ng yÃªu cáº§u auth)

**Request Body:** `CreateFeedbackDto` (type, message, rating, contactEmail...)

---

#### `GET /api/feedback`

> Láº¥y danh sÃ¡ch feedback cá»§a user (ðŸ”’ yÃªu cáº§u auth)

---

### 6.4 Sync Module (`/api/sync`)

#### `POST /api/sync/queue`

> Upload vÃ  process offline action queue

**Request Body:**

| Field | Type | Required | MÃ´ táº£ |
|---|---|---|---|
| `actions` | `SyncActionDto[]` | âœ… | Danh sÃ¡ch actions cáº§n sync |

**SyncActionDto:**

| Field | Type | Required | MÃ´ táº£ |
|---|---|---|---|
| `id` | string | âœ… | ID unique cá»§a action |
| `type` | enum | âœ… | `CREATE` \| `UPDATE` \| `DELETE` |
| `table` | string | âœ… | TÃªn table (e.g., `history`, `bookmarks`) |
| `data` | object | âœ… | Data Ä‘á»ƒ sync |
| `timestamp` | string | âœ… | ISO timestamp khi action xáº£y ra |

---

#### `GET /api/sync/status`

> Kiá»ƒm tra sync status vÃ  timestamp cuá»‘i

**Response:**

```json
{ "lastSync": "2025-01-15T10:30:00Z", "serverTime": "2025-01-15T10:35:00Z" }
```

---

## 7. Related Documents

- [00_Mobile_Overview.md](../00_Mobile_Overview.md) - Project overview
- [01_Authentication.md](01_Authentication.md) - Login/Logout
- [10_Native_Features.md](10_Native_Features.md) - Notifications
