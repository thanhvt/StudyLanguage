# ðŸ“œ History Feature - Mobile

> **Module:** History  
> **Priority:** P1 (Core)  
> **Phase:** MVP

---

## 1. Overview

Module lá»‹ch sá»­ há»c táº­p vá»›i timeline view, filter theo skill, vÃ  sync across devices.

### 1.1 Key Features

| Feature | Description |
|---------|-------------|
| **Timeline View** | Grouped by date |
| **Filter by Skill** | Listening, Speaking, Reading |
| **Filter by Date Range** | Tuáº§n nÃ y, ThÃ¡ng nÃ y, Custom range (NEW âœ¨) |
| **Detail View** | Full session info |
| **Quick Actions** | Replay, practice again, swipe gestures |
| **Recent Lessons Panel** | Quick access tá»« skill pages (NEW âœ¨) |
| **Session Restoration** | Resume session tá»« audio player (NEW âœ¨) |
| **Persist Audio Data** | LÆ°u audio URL Ä‘á»ƒ replay khÃ´ng cáº§n regenerate (NEW âœ¨) |
| **Analytics Dashboard** | Stats cards, heatmap, charts (NEW âœ¨) |
| **AI Insights** | PhÃ¢n tÃ­ch thÃ³i quen há»c táº­p (NEW âœ¨) |
| **Batch Actions** | Multi-select, delete nhiá»u sessions (NEW âœ¨) |
| **Export/Share** | Share session dáº¡ng image card hoáº·c PDF (NEW âœ¨) |

### 1.2 Analytics Features (NEW âœ¨)

Bá»• sung cÃ¡c biá»ƒu Ä‘á»“ vÃ  thá»‘ng kÃª chi tiáº¿t nhÆ° web-v2:

| Feature | Description |
|---------|-------------|
| **Stats Cards** | Tá»•ng quan hÃ´m nay, tuáº§n nÃ y, streak, tá»•ng giá» há»c |
| **Weekly Heatmap** | Calendar contribution graph (giá»‘ng GitHub) |
| **Progress Chart** | Line chart tiáº¿n trÃ¬nh theo tuáº§n/thÃ¡ng |
| **Skill Distribution** | Pie/donut chart phÃ¢n bá»• ká»¹ nÄƒng |
| **AI Insights** | Tips cÃ¡ nhÃ¢n hÃ³a dá»±a trÃªn dá»¯ liá»‡u há»c táº­p |
| **Pinned Items** | Ghim cÃ¡c session quan trá»ng lÃªn Ä‘áº§u |

### 1.3 Recent Lessons Panel (NEW âœ¨)

Quick access panel hiá»ƒn thá»‹ cÃ¡c bÃ i há»c gáº§n Ä‘Ã¢y, tÃ­ch há»£p trá»±c tiáº¿p vÃ o cÃ¡c skill pages.

| Feature | Description |
|---------|-------------|
| **Quick Access** | Hiá»ƒn thá»‹ 5 bÃ i há»c gáº§n nháº¥t theo skill type |
| **Authentication Check** | YÃªu cáº§u Ä‘Äƒng nháº­p Ä‘á»ƒ xem lá»‹ch sá»­ |
| **Play Entry** | PhÃ¡t láº¡i bÃ i há»c trá»±c tiáº¿p |
| **View All** | Link Ä‘áº¿n History page vá»›i filter |

**Authentication Flow:**
- **Guest**: Hiá»ƒn thá»‹ CTA Ä‘Äƒng nháº­p
- **Logged in**: Hiá»ƒn thá»‹ danh sÃ¡ch bÃ i há»c gáº§n Ä‘Ã¢y

### 1.4 Session Restoration (NEW âœ¨)

Cho phÃ©p resume session tá»« Global Audio Player hoáº·c Recent Lessons:

| Feature | Description |
|---------|-------------|
| **Resume from Player** | Click topic name trÃªn player â†’ Má»Ÿ detail vá»›i transcript |
| **Persist Audio URL** | LÆ°u audio URL vÃ o history Ä‘á»ƒ replay ngay |
| **Restore Config** | KhÃ´i phá»¥c cáº¥u hÃ¬nh session (mode, speakers, duration) |
| **Navigate to Page** | Tá»± Ä‘á»™ng navigate vá» skill page tÆ°Æ¡ng á»©ng |

---

## 2. User Flows

### 2.1 History Navigation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚ [Tab: History]  â†’  [Filter]  â†’  [Session Card]  â†’  [Detail]â”‚
â”‚                                      â”‚              Replay  â”‚
â”‚                                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 Filter Flow (NEW âœ¨)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚ [Skill Filter]  â†’  [Date Range]  â†’  [Sort Order]  â†’  [List]â”‚
â”‚  All/ðŸŽ§/ðŸ—£ï¸/ðŸ“–    Week/Month/Custom  Newest/Oldest  Resultsâ”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 Batch Actions Flow (NEW âœ¨)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚ [Long Press Card] â†’ [Multi-Select Mode] â†’ [Select Cards]   â”‚
â”‚                             â”‚                               â”‚
â”‚                    [Batch Actions Bar]                      â”‚
â”‚                    [ðŸ—‘ï¸ Delete] [â­ Favorite] [Cancel]       â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. UI Mockups

### 3.1 Recent Lessons Panel (NEW âœ¨)

**Guest State (Not Logged In):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ðŸ• BÃ i nghe gáº§n Ä‘Ã¢y            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚         â”‚   ðŸ”      â”‚           â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                 â”‚
â”‚   ÄÄƒng nháº­p Ä‘á»ƒ xem lá»‹ch sá»­      â”‚
â”‚                                 â”‚
â”‚      [ðŸ”‘ ÄÄƒng nháº­p]            â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Logged In State:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ðŸ• BÃ i nghe gáº§n Ä‘Ã¢y            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â–¶ï¸ Coffee Shop Talk     â”‚   â”‚
â”‚  â”‚ 5 phÃºt trÆ°á»›c â€¢ 15 phÃºt  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â–¶ï¸ Airport Dialogue     â”‚   â”‚
â”‚  â”‚ 2 giá» trÆ°á»›c â€¢ 20 phÃºt   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â–¶ï¸ Restaurant Order     â”‚   â”‚
â”‚  â”‚ HÃ´m qua â€¢ 10 phÃºt       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â”‚     [Xem táº¥t cáº£ lá»‹ch sá»­ â†’]     â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Specs:**
- Max 5 entries per type
- Tap entry â†’ Play directly
- Relative time display (Vá»«a xong, X phÃºt trÆ°á»›c, X giá» trÆ°á»›c, X ngÃ y trÆ°á»›c)
- Footer link â†’ Navigate to History page with filter

### 3.2 History Timeline & Analytics (Updated)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ðŸ“œ Lá»‹ch sá»­ há»c táº­p         ðŸ”  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [All] [ðŸŽ§] [ðŸ—£ï¸] [ðŸ“–]    â”‚
â”‚  [Tuáº§n nÃ y â–¼]  [Má»›i nháº¥t â–¼]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  ðŸ“Š Tá»•ng quan                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ðŸ”¥ 12   â”‚ â±ï¸ 3.5h â”‚ ðŸ“š 42 â”‚ â”‚
â”‚  â”‚ Streak  â”‚ Total  â”‚ Lessonâ”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚  ðŸ“ˆ Tuáº§n nÃ y                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚     â•­â•®                    â”‚ â”‚
â”‚  â”‚  â•­â”€â”€â•¯â•°â•®   â•­â•®             â”‚ â”‚
â”‚  â”‚ â”€â•¯     â•°â”€â”€â•¯â•°â”€            â”‚ â”‚
â”‚  â”‚ T2  T3  T4  T5  T6  T7 CNâ”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚  ðŸ—“ï¸ Hoáº¡t Ä‘á»™ng                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â–‘â–‘â–ˆâ–‘â–‘â–ˆâ–‘â–ˆâ–ˆâ–‘â–ˆâ–‘â–‘â–‘â–ˆâ–‘â–ˆâ–ˆâ–‘â–ˆâ–‘â–‘â–‘  â”‚ â”‚
â”‚  â”‚ [Calendar Heatmap]        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚  ðŸ’¡ AI Insight                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ âœ¨ gradient-bg             â”‚ â”‚
â”‚  â”‚ Báº¡n há»c tá»‘t nháº¥t vÃ o buá»•i â”‚ â”‚
â”‚  â”‚ sÃ¡ng (06:00 - 08:00). HÃ£y â”‚ â”‚
â”‚  â”‚ duy trÃ¬ thÃ³i quen nÃ y!    â”‚ â”‚
â”‚  â”‚                           â”‚ â”‚
â”‚  â”‚ [ðŸ“Š Xem chi tiáº¿t]         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚  ðŸ“Œ Pinned                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ðŸŽ§ Coffee Shop Talk â­  â”‚   â”‚
â”‚  â”‚ 09:30 â€¢ 15 min â€¢ 80%    â”‚   â”‚
â”‚  â”‚ â–Žblue accent             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â”‚  â”€â”€â”€ HÃ´m nay â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  (Session List continues...)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Specs:**
- Stats Cards: Horizontal scroll or Grid
- Progress Chart: Victory Native line chart, tuáº§n/thÃ¡ng toggle
- Heatmap: Calendar contribution graph (giá»‘ng GitHub)
- AI Insight: **Gradient background card** vá»›i subtle fade-in animation, cÃ³ action button
- Pinned: Section riÃªng trÃªn cÃ¹ng list
- Date Filter: Dropdown (Tuáº§n nÃ y / ThÃ¡ng nÃ y / 3 thÃ¡ng / Custom range)
- Sort: Dropdown (Má»›i nháº¥t / CÅ© nháº¥t)

### 3.3 Session Cards - Visual Identity (NEW âœ¨)

Má»—i skill type cÃ³ accent color riÃªng, consistent vá»›i Dashboard:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                 â”‚
â”‚  â”€â”€â”€ HÃ´m nay â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚â–ŽðŸŽ§ Coffee Shop Talk     â”‚   â”‚  â† Blue accent (left border)
â”‚  â”‚â–Ž09:30 â€¢ 15 min    [80%] â”‚   â”‚  â† Score badge (top right)
â”‚  â”‚â–Žâ­ Pinned               â”‚   â”‚  â† Pin/Favorite indicator
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚â–ŽðŸ—£ï¸ Tech Pronunciation   â”‚   â”‚  â† Green accent
â”‚  â”‚â–Ž10:15 â€¢ 8 min     [85]  â”‚   â”‚  â† Score badge
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚â–ŽðŸ“– Climate Change       â”‚   â”‚  â† Amber accent
â”‚  â”‚â–Ž14:30 â€¢ 5 min     [4/5] â”‚   â”‚  â† Quiz score badge
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Accent Colors (Consistent with Dashboard):**

| Skill | Accent Color | Icon |
|-------|-------------|------|
| Listening | Blue/Indigo (`#4F46E5`) | ðŸŽ§ |
| Speaking | Green (`#16A34A`) | ðŸ—£ï¸ |
| Reading | Amber (`#D97706`) | ðŸ“– |

**Interaction:**
- Tap: Navigate to session detail
- Long press: Quick Actions bottom sheet
- **Swipe left**: Delete (red background)
- **Swipe right**: Pin/Favorite (yellow background)
- Press animation: Scale 0.95x + haptic light impact

### 3.4 Filtered View (Listening Only)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ðŸ“œ Lá»‹ch sá»­ há»c táº­p         ðŸ”  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [All] [ðŸŽ§] [ðŸ—£ï¸] [ðŸ“–]    â”‚
â”‚         â–²                       â”‚
â”‚    (Selected)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ðŸ“Š Listening: 12 sessions      â”‚
â”‚  â±ï¸ Total: 3.5h â”‚ Avg: 78%      â”‚
â”‚  ðŸ† Best: 95% â”‚ ðŸ“ˆ â†‘ Improving  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  â”€â”€â”€ HÃ´m nay â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚â–ŽðŸŽ§ Coffee Shop Talk â­  â”‚   â”‚
â”‚  â”‚â–Ž09:30 â€¢ 15 min    [80%] â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â”‚  â”€â”€â”€ HÃ´m qua â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚â–ŽðŸŽ§ Airport Dialogue     â”‚   â”‚
â”‚  â”‚â–Ž08:00 â€¢ 20 min    [92%] â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚â–ŽðŸŽ§ Restaurant Order     â”‚   â”‚
â”‚  â”‚â–Ž12:30 â€¢ 10 min    [88%] â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Filter Stats Enhancement:**
- **Average score**: Trung bÃ¬nh Ä‘iá»ƒm qua cÃ¡c session
- **Best score**: Äiá»ƒm cao nháº¥t gáº§n Ä‘Ã¢y
- **Trend arrow**: â†‘ Improving / â†“ Declining / â†’ Stable (so sÃ¡nh tuáº§n nÃ y vs tuáº§n trÆ°á»›c)

### 3.5 Session Detail - Listening

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Coffee Shop Talk         â‹®  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  ðŸŽ§ Listening Session           â”‚
â”‚  ðŸ“… 26/01/2026, 09:30           â”‚
â”‚  â±ï¸ Duration: 15 minutes        â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ðŸ“Š Performance                 â”‚
â”‚                                 â”‚
â”‚  Comprehension: 80%             â”‚
â”‚  [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘]         â”‚
â”‚                                 â”‚
â”‚  ðŸ“ Bookmarked: 3 sentences     â”‚
â”‚  ðŸ“š New words: 5                â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âš™ï¸ Settings Used               â”‚
â”‚                                 â”‚
â”‚  â€¢ Mode: Podcast                â”‚
â”‚  â€¢ Speakers: 2                  â”‚
â”‚  â€¢ Topic: Daily Conversation    â”‚
â”‚  â€¢ Speed: 1.0x                  â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ðŸ“– Transcript                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ A: Hi, can I order...   â”‚   â”‚
â”‚  â”‚ B: Sure! What size...   â”‚   â”‚
â”‚  â”‚ A: Large please...      â”‚   â”‚
â”‚  â”‚ [View full transcript]  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [â–¶ï¸ Replay]  [ðŸ”„ Practice Again]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.6 Session Detail - Speaking

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Tech Pronunciation       â‹®  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  ðŸ—£ï¸ Speaking Session            â”‚
â”‚  ðŸ“… 26/01/2026, 10:15           â”‚
â”‚  â±ï¸ Duration: 8 minutes         â”‚
â”‚  Mode: Practice                 â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ðŸ“Š Performance                 â”‚
â”‚                                 â”‚
â”‚  Overall Score: 85/100          â”‚
â”‚  [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘]         â”‚
â”‚                                 â”‚
â”‚  ðŸ“ Sentences: 12               â”‚
â”‚  âœ… Perfect: 8 | âš ï¸ Need work: 4 â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ðŸ“ˆ Word Scores                 â”‚
â”‚                                 â”‚
â”‚  âš ï¸ Lowest:                     â”‚
â”‚  â€¢ revolutionizing (75/100)     â”‚
â”‚  â€¢ unprecedented (78/100)       â”‚
â”‚                                 â”‚
â”‚  âœ… Highest:                    â”‚
â”‚  â€¢ artificial (98/100)          â”‚
â”‚  â€¢ technology (95/100)          â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ðŸ”¥ Phoneme Heatmap (NEW âœ¨)    â”‚
â”‚  /Î¸/ ðŸŸ¢  /Êƒ/ ðŸŸ¡  /Ã°/ ðŸ”´       â”‚
â”‚  [Luyá»‡n Ã¢m yáº¿u â†’]              â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ðŸ”Š Play] [ðŸ¤– AI Clone]       â”‚
â”‚  [ðŸ“¤ Share] [ðŸ”„ Retry]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.6.1 Session Detail - Coach (NEW âœ¨)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Daily Routine Coach      â‹®  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  ðŸ’¬ Conversation Coach          â”‚
â”‚  ðŸ“… 26/01/2026, 15:00           â”‚
â”‚  â±ï¸ Duration: 10 minutes        â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ðŸ“Š Summary                     â”‚
â”‚  Turns: 12 | Score: 82/100      â”‚
â”‚                                 â”‚
â”‚  ðŸ“ Transcript:                 â”‚
â”‚  AI: "What do you usually..."   â”‚
â”‚  You: "I usually wake up..."    â”‚
â”‚  âš ï¸ "usually" â†’ /ËˆjuËÊ’uÉ™li/    â”‚
â”‚  AI: "That sounds nice!..."     â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ðŸ”Š Replay] [ðŸ“¤ Share]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.6.2 Session Detail - Roleplay (NEW âœ¨)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Restaurant Roleplay      â‹®  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  ðŸŽ­ Roleplay Session            â”‚
â”‚  ðŸ“… 26/01/2026, 16:30           â”‚
â”‚  Scenario: Restaurant           â”‚
â”‚  Turns: 8/10 | Score: 78/100    â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ðŸ“ Turn Review:                â”‚
â”‚  Turn 1: âœ… (92/100)            â”‚
â”‚  Turn 2: âœ… (88/100)            â”‚
â”‚  Turn 3: âš ï¸ (65/100)           â”‚
â”‚  ...                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ðŸ”Š Replay] [ðŸ”„ Retry]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.7 Session Detail - Reading

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Climate Change           â‹®  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  ðŸ“– Reading Session             â”‚
â”‚  ðŸ“… 26/01/2026, 14:30           â”‚
â”‚  â±ï¸ Duration: 5 minutes         â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ðŸ“Š Performance                 â”‚
â”‚                                 â”‚
â”‚  Quiz Score: 4/5 (80%)          â”‚
â”‚  [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘]         â”‚
â”‚                                 â”‚
â”‚  ðŸ“ Words read: 384             â”‚
â”‚  ðŸ“š New words saved: 8          â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ðŸ“ Quiz Review                 â”‚
â”‚                                 â”‚
â”‚  Q1: âœ… Correct                 â”‚
â”‚  Q2: âœ… Correct                 â”‚
â”‚  Q3: âŒ Wrong                   â”‚
â”‚      Your answer: A             â”‚
â”‚      Correct: B                 â”‚
â”‚  Q4: âœ… Correct                 â”‚
â”‚  Q5: âœ… Correct                 â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ðŸ“– Read Again]  [ðŸ“ Retake Quiz]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.8 Empty State (NEW âœ¨)

Khi user chÆ°a cÃ³ lá»‹ch sá»­ há»c táº­p:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ðŸ“œ Lá»‹ch sá»­ há»c táº­p         ðŸ”  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [All] [ðŸŽ§] [ðŸ—£ï¸] [ðŸ“–]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚                                 â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚         â”‚  ðŸ“š âœ¨     â”‚           â”‚
â”‚         â”‚  (empty)   â”‚           â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                 â”‚
â”‚    ChÆ°a cÃ³ lá»‹ch sá»­ há»c táº­p      â”‚
â”‚                                 â”‚
â”‚    Báº¯t Ä‘áº§u bÃ i há»c Ä‘áº§u tiÃªn     â”‚
â”‚    Ä‘á»ƒ theo dÃµi tiáº¿n trÃ¬nh!      â”‚
â”‚                                 â”‚
â”‚     [ðŸŽ§ Báº¯t Ä‘áº§u nghe]          â”‚
â”‚     [ðŸ—£ï¸ Báº¯t Ä‘áº§u nÃ³i]           â”‚
â”‚     [ðŸ“– Báº¯t Ä‘áº§u Ä‘á»c]           â”‚
â”‚                                 â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Empty State cho Filtered View:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [All] [ðŸŽ§] [ðŸ—£ï¸] [ðŸ“–]    â”‚
â”‚                â–²                â”‚
â”‚           (Selected)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚         â”‚  ðŸ—£ï¸       â”‚           â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                 â”‚
â”‚   ChÆ°a cÃ³ bÃ i Speaking nÃ o      â”‚
â”‚                                 â”‚
â”‚     [ðŸ—£ï¸ Luyá»‡n nÃ³i ngay]        â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Specs:**
- Illustration: Lottie animation (book/sparkle)
- CTA buttons: Navigate Ä‘áº¿n skill pages tÆ°Æ¡ng á»©ng
- Fade-in animation khi render

### 3.9 Skeleton Loading (NEW âœ¨)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ðŸ“œ Lá»‹ch sá»­ há»c táº­p         ðŸ”  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [All] [ðŸŽ§] [ðŸ—£ï¸] [ðŸ“–]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚ â–‘â–‘â–‘â–‘â–‘â–‘ â”‚ â–‘â–‘â–‘â–‘ â”‚ â”‚  â† Stats skeleton
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚  â”€â”€â”€ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚â–Žâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   â”‚   â”‚  â† Card skeleton
â”‚  â”‚â–Žâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â€¢ â–‘â–‘â–‘â–‘â–‘â–‘â–‘   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚â–Žâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   â”‚   â”‚
â”‚  â”‚â–Žâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â€¢ â–‘â–‘â–‘â–‘â–‘â–‘â–‘   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚â–Žâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   â”‚   â”‚
â”‚  â”‚â–Žâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â€¢ â–‘â–‘â–‘â–‘â–‘â–‘â–‘   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Specs:**
- Shimmer animation (left â†’ right gradient pulse)
- 3-4 skeleton cards
- Skeleton cho stats cards area
- Hiá»ƒn thá»‹ filter tabs ngay, skeleton cho content

### 3.10 Quick Actions - Swipe & Long Press (Updated)

**Swipe Actions (NEW âœ¨):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                 â”‚
â”‚  â† Swipe Left (Delete)         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚â–ŽðŸŽ§ Coffee Shop Talk [ðŸ—‘ï¸]â”‚   â”‚  â† Red background reveal
â”‚  â”‚â–Ž09:30 â€¢ 15 min    [80%] â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â”‚  Swipe Right (Pin/Favorite) â†’   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚[â­]ðŸŽ§ Airport Dialogue â–Žâ”‚   â”‚  â† Yellow background reveal
â”‚  â”‚     08:00 â€¢ 20 min [92%]â–Žâ”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Long Press Bottom Sheet:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”â”â”â”â”                          â”‚
â”‚  Coffee Shop Talk               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  â–¶ï¸  PhÃ¡t láº¡i                   â”‚
â”‚                                 â”‚
â”‚  ðŸ”„  Luyá»‡n táº­p láº¡i              â”‚
â”‚                                 â”‚
â”‚  ðŸ“Œ  Ghim lÃªn Ä‘áº§u               â”‚
â”‚                                 â”‚
â”‚  â­  ThÃªm vÃ o yÃªu thÃ­ch         â”‚
â”‚                                 â”‚
â”‚  ðŸ“¤  Chia sáº»                    â”‚
â”‚                                 â”‚
â”‚  ðŸ—‘ï¸  XÃ³a                       â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Specs:**
- Swipe: `react-native-gesture-handler` Swipeable
- Left swipe threshold: 80px â†’ confirm delete
- Right swipe threshold: 80px â†’ toggle pin/favorite
- Long press: Bottom sheet vá»›i full action list
- Haptic feedback on swipe complete + long press trigger

### 3.11 Search History (Updated)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ðŸ” Search history              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ðŸ” coffee shop     âœ•    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â”‚  Filter: [All â–¼]                â”‚
â”‚                                 â”‚
â”‚  Results (3 sessions)           â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚â–ŽðŸŽ§ **Coffee** Shop Talk â”‚   â”‚  â† Highlight match
â”‚  â”‚â–Ž26/01/2026 â€¢ 15 min     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚â–ŽðŸŽ§ **Coffee** Order     â”‚   â”‚
â”‚  â”‚â–Ž20/01/2026 â€¢ 10 min     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚â–ŽðŸ“– **Coffee** Shop Journalâ”‚  â”‚
â”‚  â”‚â–Ž15/01/2026 â€¢ 8 min      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Search - Suggestions State (before typing):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ðŸ”                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â”‚  ðŸ• TÃ¬m kiáº¿m gáº§n Ä‘Ã¢y           â”‚
â”‚  â€¢ coffee shop                  â”‚
â”‚  â€¢ airport                      â”‚
â”‚  â€¢ restaurant                   â”‚
â”‚                                 â”‚
â”‚  ðŸ”¥ Phá»• biáº¿n                    â”‚
â”‚  â€¢ daily conversation           â”‚
â”‚  â€¢ travel                       â”‚
â”‚  â€¢ business                     â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Specs:**
- **Debounce**: 300ms delay trÆ°á»›c khi search
- **Highlight**: Bold text match trong káº¿t quáº£
- **Filter chips**: Káº¿t há»£p search + skill type filter
- **Recent searches**: LÆ°u 5 láº§n search gáº§n nháº¥t (AsyncStorage)
- **Clear search**: NÃºt âœ• trong input field

### 3.12 Export/Share Session (NEW âœ¨)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”â”â”â”â”                          â”‚
â”‚  Chia sáº» káº¿t quáº£                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚ â”‚ ðŸ“š StudyLanguage     â”‚ â”‚   â”‚  â† Preview card
â”‚  â”‚ â”‚                     â”‚ â”‚   â”‚
â”‚  â”‚ â”‚ ðŸŽ§ Coffee Shop Talk â”‚ â”‚   â”‚
â”‚  â”‚ â”‚ Score: 80%          â”‚ â”‚   â”‚
â”‚  â”‚ â”‚ ðŸ”¥ 12 day streak    â”‚ â”‚   â”‚
â”‚  â”‚ â”‚ 26/01/2026          â”‚ â”‚   â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â”‚  [ðŸ“± Share Image]               â”‚
â”‚  [ðŸ“„ Export PDF]                â”‚
â”‚  [ðŸ“‹ Copy Link]                â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Specs:**
- **Share Image**: Táº¡o image card (ViewShot â†’ Share API)
- **Export PDF**: Session detail + transcript (náº¿u cÃ³)
- **Copy Link**: Deep link Ä‘áº¿n session (requires backend support)
- Gradient background cho share card, app branding

### 3.13 Batch Actions Mode (NEW âœ¨)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ• Chá»n       3 Ä‘Ã£ chá»n   [â‹®] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  â”€â”€â”€ HÃ´m nay â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â˜‘ï¸ ðŸŽ§ Coffee Shop Talk  â”‚   â”‚  â† Selected
â”‚  â”‚    09:30 â€¢ 15 min       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â˜‘ï¸ ðŸ—£ï¸ Tech Pronunciationâ”‚   â”‚  â† Selected
â”‚  â”‚    10:15 â€¢ 8 min        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â˜  ðŸ“– Climate Change    â”‚   â”‚  â† Not selected
â”‚  â”‚    14:30 â€¢ 5 min        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â”‚  â”€â”€â”€ HÃ´m qua â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â˜‘ï¸ ðŸŽ§ Airport Dialogue  â”‚   â”‚  â† Selected
â”‚  â”‚    08:00 â€¢ 20 min       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Chá»n táº¥t cáº£] [ðŸ—‘ï¸ XÃ³a (3)] [â­]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Specs:**
- Trigger: Long press báº¥t ká»³ card nÃ o
- Header: Hiá»‡n count Ä‘Ã£ chá»n + cancel button
- Actions bar: Fixed bottom, show available actions
- Select all: Chá»n táº¥t cáº£ visible cards
- Confirm dialog trÆ°á»›c khi xÃ³a hÃ ng loáº¡t4
- Haptic selection feedback on each tap

---

## 4. Features Detail

### 4.1 Session Types & Visual Identity

| Type | Icon | Accent Color | Data Shown |
|------|------|-------------|------------|
| Listening | ðŸŽ§ | Blue/Indigo `#4F46E5` | Duration, comprehension %, bookmarks |
| Speaking | ðŸ—£ï¸ | Green `#16A34A` | Duration, score, sentences count |
| Reading | ðŸ“– | Amber `#D97706` | Duration, quiz score, words read |

### 4.2 Quick Actions

| Action | Trigger | Description |
|--------|---------|-------------|
| Replay | Tap / Swipe | Play audio again (Listening) |
| Practice Again | Tap | Start new session with same config |
| Pin | Swipe right / Long press | Ghim lÃªn Ä‘áº§u list |
| Favorite | Swipe right / Long press | Mark as important |
| Share | Long press | Export session data |
| Delete | Swipe left / Long press | Remove from history (confirm dialog) |

### 4.3 Sync Strategy

| Scenario | Behavior |
|----------|----------|
| Online | Sync immediately after session |
| Offline | Queue for sync, show pending icon |
| Conflict | Latest timestamp wins |

### 4.4 Gestures (NEW âœ¨)

Consistent vá»›i Listening module gesture system:

| Context | Gesture | Action |
|---------|---------|--------|
| Session Card | Tap | Navigate to detail |
| Session Card | Long press | Quick Actions bottom sheet |
| Session Card | Swipe left | Delete (confirm) |
| Session Card | Swipe right | Pin/Favorite toggle |
| Detail view | Swipe down | Back to list |
| Detail transcript | Double tap | Quick bookmark |
| List | Pull down | Refresh data |

### 4.5 Animations & Transitions (NEW âœ¨)

| Element | Animation | Spec |
|---------|-----------|------|
| Card press | Scale down | `transform: scale(0.95)`, 150ms ease |
| Card tap | Haptic | Light impact feedback |
| Card delete | Slide + Fade | Slide left + opacity â†’ 0, 300ms |
| Detail open | Shared element | Card â†’ Full screen transition |
| Empty state | Fade in | Opacity 0 â†’ 1, 500ms delay |
| Skeleton | Shimmer | Gradient pulse left â†’ right, 1.5s loop |
| AI Insight | Slide up | Translate Y 20px â†’ 0, 400ms fade-in |
| Pull refresh | Spring | Spring animation on release |

---

## 5. Technical Implementation

### 5.1 State Structure

```typescript
interface HistoryState {
  // Danh sÃ¡ch sessions
  sessions: Session[];
  
  // Bá»™ lá»c ká»¹ nÄƒng
  filter: 'all' | 'listening' | 'speaking' | 'reading';
  
  // Bá»™ lá»c thá»i gian (NEW âœ¨)
  dateRange: 'week' | 'month' | '3months' | 'custom';
  customDateStart?: Date;
  customDateEnd?: Date;
  
  // Sáº¯p xáº¿p (NEW âœ¨)
  sortOrder: 'newest' | 'oldest';
  
  // TÃ¬m kiáº¿m
  searchQuery: string;
  recentSearches: string[]; // NEW âœ¨
  
  // PhÃ¢n trang
  page: number;
  hasMore: boolean;
  loading: boolean;
  
  // Cháº¿ Ä‘á»™ chá»n nhiá»u (NEW âœ¨)
  selectionMode: boolean;
  selectedIds: string[];
}

interface Session {
  id: string;
  type: 'listening' | 'speaking' | 'reading';
  title: string;
  date: Date;
  duration: number; // phÃºt
  score?: number;
  config: SessionConfig;
  data: SessionData;
  isFavorite: boolean;
  isPinned?: boolean;
  syncStatus: 'synced' | 'pending' | 'error';
  audioUrl?: string; // LÆ°u audio URL Ä‘á»ƒ replay (NEW âœ¨)
}

interface UserStats {
  streak: number;
  totalHours: number;
  totalLessons: number;
  // Thá»‘ng kÃª nÃ¢ng cao (NEW âœ¨)
  averageScore: number;
  bestScore: number;
  trend: 'improving' | 'declining' | 'stable';
  weeklyData: { day: string; minutes: number }[];
  heatmapData: { date: string; count: number }[];
  skillDistribution: { skill: string; count: number }[];
  aiInsight: string;
}
```

### 5.2 Caching Strategy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚ [SQLite Local DB]  â†”  [React Query Cache]  â†”  [UI]        â”‚
â”‚         â”‚                                                   â”‚
â”‚         â””â”€â”€ [Supabase Sync] (when online)                  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.3 Libraries (NEW âœ¨)

```typescript
react-native-gesture-handler   // Swipe actions trÃªn session cards
react-native-reanimated        // Animations (skeleton, transitions)
react-native-haptic-feedback   // Haptic trÃªn tap, swipe, long press
victory-native                 // Charts (progress, distribution)
react-native-view-shot         // Táº¡o share image card
react-native-share             // Share API
@react-native-async-storage/async-storage // Recent searches
```

---

## 6. Implementation Tasks

### MVP Phase
- [ ] History list screen
- [ ] Filter by skill type
- [ ] Session detail view (Listening, Speaking, Reading)
- [ ] Replay functionality
- [ ] Practice again action
- [ ] **Empty state UI** (NEW âœ¨)
- [ ] **Skeleton loading** (NEW âœ¨)
- [ ] **Pull-to-refresh** (NEW âœ¨)

### Enhanced Phase
- [ ] Search functionality with debounce
- [ ] **Search suggestions & recent searches** (NEW âœ¨)
- [ ] **Search result highlight** (NEW âœ¨)
- [ ] Favorites
- [ ] Quick actions (long press bottom sheet)
- [ ] **Swipe-to-action (delete/pin)** (NEW âœ¨)
- [ ] Infinite scroll pagination
- [ ] Offline sync queue
- [ ] **Session restoration from audio player**
- [ ] **Persist audio URL in history**
- [ ] **Navigate to skill page from player**
- [ ] **Date range filter** (NEW âœ¨)
- [ ] **Sort order toggle** (NEW âœ¨)
- [ ] **Visual identity cards (accent colors)** (NEW âœ¨)
- [ ] **Card press animation + haptic** (NEW âœ¨)
- [ ] Stats cards implementation
- [ ] Pinned sessions
- [ ] **AI Insight card (gradient + action)** (NEW âœ¨)

### Advanced Phase
- [ ] **Batch actions (multi-select mode)** (NEW âœ¨)
- [ ] **Export/Share session (image card, PDF)** (NEW âœ¨)
- [ ] **Weekly activity heatmap** (NEW âœ¨)
- [ ] **Progress chart (line chart)** (NEW âœ¨)
- [ ] **Skill distribution chart** (NEW âœ¨)
- [ ] **Detail view shared element transition** (NEW âœ¨)

---

## 7. API Reference

> **Base URL:** `/api`  
> **Auth:** Táº¥t cáº£ endpoints yÃªu cáº§u `Authorization: Bearer <Supabase JWT>`

### 7.1 History Module (`/api/history`)

#### `GET /api/history`

> Láº¥y danh sÃ¡ch lá»‹ch sá»­ há»c táº­p (paginated, filterable)

**Query Params:**

| Field | Type | Required | MÃ´ táº£ |
|---|---|---|---|
| `type` | enum | âŒ | `listening` \| `speaking` \| `reading` \| `writing` |
| `status` | enum | âŒ | `all` \| `pinned` \| `favorite` \| `deleted` |
| `search` | string | âŒ | Tá»« khÃ³a tÃ¬m kiáº¿m |
| `page` | number | âŒ | Trang hiá»‡n táº¡i, default: 1 |
| `limit` | number | âŒ | Sá»‘ báº£n ghi má»—i trang, default: 20 |
| `dateFrom` | string | âŒ | NgÃ y báº¯t Ä‘áº§u (YYYY-MM-DD) |
| `dateTo` | string | âŒ | NgÃ y káº¿t thÃºc (YYYY-MM-DD) |

**Response:**

```json
{
  "data": [
    {
      "id": "uuid",
      "type": "listening",
      "title": "Business Meeting",
      "date": "2025-01-15T10:30:00Z",
      "duration": 5,
      "score": 85,
      "isPinned": false,
      "isFavorite": true
    }
  ],
  "total": 120,
  "page": 1,
  "limit": 20,
  "hasMore": true
}
```

---

#### `GET /api/history/stats`

> Láº¥y thá»‘ng kÃª lá»‹ch sá»­ há»c táº­p

**Response:**

```json
{
  "todayCount": 3,
  "weekCount": 15,
  "streak": 7,
  "heatmapData": [{ "date": "2025-01-15", "count": 3 }],
  "weeklyData": [{ "day": "Mon", "minutes": 45 }]
}
```

---

#### `GET /api/history/analytics?period=week`

> Láº¥y analytics data cho biá»ƒu Ä‘á»“

**Query Params:**

| Field | Type | Required | MÃ´ táº£ |
|---|---|---|---|
| `period` | enum | âŒ | `week` \| `month` \| `year` |

**Response:**

```json
{
  "data": [{ "date": "2025-01-15", "sessions": 3, "minutes": 45 }],
  "summary": { "totalSessions": 42, "totalMinutes": 500, "averagePerDay": 6 }
}
```

---

#### `POST /api/history/batch-action`

> Batch action trÃªn nhiá»u entries (multi-select mode)

**Request Body:**

| Field | Type | Required | MÃ´ táº£ |
|---|---|---|---|
| `ids` | string[] | âœ… | Danh sÃ¡ch ID entries |
| `action` | enum | âœ… | `delete` \| `pin` \| `unpin` \| `favorite` \| `unfavorite` |

---

#### `GET /api/history/:id`

> Láº¥y chi tiáº¿t má»™t báº£n ghi lá»‹ch sá»­

---

#### `PATCH /api/history/:id/pin`

> Toggle tráº¡ng thÃ¡i ghim (pin/unpin)

---

#### `PATCH /api/history/:id/favorite`

> Toggle tráº¡ng thÃ¡i yÃªu thÃ­ch (favorite/unfavorite)

---

#### `PATCH /api/history/:id/notes`

> Cáº­p nháº­t ghi chÃº cho báº£n ghi

**Request Body:**

| Field | Type | Required | MÃ´ táº£ |
|---|---|---|---|
| `notes` | string | âœ… | Ná»™i dung ghi chÃº (gá»­i "" Ä‘á»ƒ xÃ³a) |

---

#### `POST /api/history/:id/export`

> Export session summary (text) Ä‘á»ƒ share

**Response:**

```json
{
  "summary": "ðŸ“ Session: Business Meeting\nâ± Duration: 5 min\nðŸŽ¯ Score: 85/100\n..."
}
```

---

#### `DELETE /api/history/:id`

> Soft delete (cÃ³ thá»ƒ phá»¥c há»“i)

---

#### `POST /api/history/:id/restore`

> KhÃ´i phá»¥c báº£n ghi Ä‘Ã£ xÃ³a má»m

---

#### `DELETE /api/history/:id/permanent`

> XÃ³a vÄ©nh viá»…n (hard delete, KHÃ”NG thá»ƒ phá»¥c há»“i)

---

## 8. Related Documents

- [00_Mobile_Overview.md](../00_Mobile_Overview.md) - Project overview
- [00_Dashboard.md](00_Dashboard.md) - Visual identity consistency (accent colors)
- [02_Listening.md](02_Listening.md) - Gesture system reference
- [10_Native_Features.md](10_Native_Features.md) - Offline sync
- [Architecture.md](../technical/Architecture.md) - Data sync
