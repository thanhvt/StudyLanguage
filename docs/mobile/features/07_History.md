# ğŸ“œ History Feature - Mobile

> **Module:** History  
> **Priority:** P1 (Core)  
> **Phase:** MVP

---

## 1. Overview

Module lá»‹ch sá»­ há»c táº­p vá»›i timeline view, filter theo skill, vÃ  sync across devices.

### 1.1 Key Features

| Feature | Description |
|---------|-------------|
| **Timeline View** | Grouped by date |
| **Filter by Skill** | Listening, Speaking, Reading |
| **Detail View** | Full session info |
| **Quick Actions** | Replay, practice again |
| **Recent Lessons Panel** | Quick access tá»« skill pages (NEW âœ¨) |
| **Session Restoration** | Resume session tá»« audio player (NEW âœ¨) |
| **Persist Audio Data** | LÆ°u audio URL Ä‘á»ƒ replay khÃ´ng cáº§n regenerate (NEW âœ¨) |
| **Analytics Dashboard** | Stats cards, heatmap, charts (NEW âœ¨) |
| **AI Insights** | PhÃ¢n tÃ­ch thÃ³i quen há»c táº­p (NEW âœ¨) |

### 1.2 Analytics Features (NEW âœ¨)

Bá»• sung cÃ¡c biá»ƒu Ä‘á»“ vÃ  thá»‘ng kÃª chi tiáº¿t nhÆ° web-v2:

| Feature | Description |
|---------|-------------|
| **Stats Cards** | Tá»•ng quan hÃ´m nay, tuáº§n nÃ y, streak, tá»•ng giá» há»c |
| **Weekly Activity** | Bar chart sá»‘ phÃºt há»c trong 7 ngÃ y |
| **Learning Heatmap** | Calendar view hiá»ƒn thá»‹ táº§n suáº¥t há»c (tÆ°Æ¡ng tá»± GitHub) |
| **AI Insights** | Tips cÃ¡ nhÃ¢n hÃ³a dá»±a trÃªn dá»¯ liá»‡u há»c táº­p |
| **Pinned Items** | Ghim cÃ¡c session quan trá»ng lÃªn Ä‘áº§u |

### 1.2 Recent Lessons Panel (NEW âœ¨)

Quick access panel hiá»ƒn thá»‹ cÃ¡c bÃ i há»c gáº§n Ä‘Ã¢y, tÃ­ch há»£p trá»±c tiáº¿p vÃ o cÃ¡c skill pages.

| Feature | Description |
|---------|-------------|
| **Quick Access** | Hiá»ƒn thá»‹ 5 bÃ i há»c gáº§n nháº¥t theo skill type |
| **Authentication Check** | YÃªu cáº§u Ä‘Äƒng nháº­p Ä‘á»ƒ xem lá»‹ch sá»­ |
| **Play Entry** | PhÃ¡t láº¡i bÃ i há»c trá»±c tiáº¿p |
| **View All** | Link Ä‘áº¿n History page vá»›i filter |

**Authentication Flow:**
- **Guest**: Hiá»ƒn thá»‹ CTA Ä‘Äƒng nháº­p
- **Logged in**: Hiá»ƒn thá»‹ danh sÃ¡ch bÃ i há»c gáº§n Ä‘Ã¢y

### 1.3 Session Restoration (NEW âœ¨)

Cho phÃ©p resume session tá»« Global Audio Player hoáº·c Recent Lessons:

| Feature | Description |
|---------|-------------|
| **Resume from Player** | Click topic name trÃªn player â†’ Má»Ÿ detail vá»›i transcript |
| **Persist Audio URL** | LÆ°u audio URL vÃ o history Ä‘á»ƒ replay ngay |
| **Restore Config** | KhÃ´i phá»¥c cáº¥u hÃ¬nh session (mode, speakers, duration) |
| **Navigate to Page** | Tá»± Ä‘á»™ng navigate vá» skill page tÆ°Æ¡ng á»©ng |

---

## 2. User Flows

### 2.1 History Navigation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚ [Tab: History]  â†’  [Filter]  â†’  [Session Card]  â†’  [Detail]â”‚
â”‚                                      â”‚              Replay  â”‚
â”‚                                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. UI Mockups

### 3.0 Recent Lessons Panel (NEW âœ¨)

**Guest State (Not Logged In):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ• BÃ i nghe gáº§n Ä‘Ã¢y            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚         â”‚   ğŸ”      â”‚           â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                 â”‚
â”‚   ÄÄƒng nháº­p Ä‘á»ƒ xem lá»‹ch sá»­      â”‚
â”‚                                 â”‚
â”‚      [ğŸ”‘ ÄÄƒng nháº­p]            â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Logged In State:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ• BÃ i nghe gáº§n Ä‘Ã¢y            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â–¶ï¸ Coffee Shop Talk     â”‚   â”‚
â”‚  â”‚ 5 phÃºt trÆ°á»›c â€¢ 15 phÃºt  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â–¶ï¸ Airport Dialogue     â”‚   â”‚
â”‚  â”‚ 2 giá» trÆ°á»›c â€¢ 20 phÃºt   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â–¶ï¸ Restaurant Order     â”‚   â”‚
â”‚  â”‚ HÃ´m qua â€¢ 10 phÃºt       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â”‚     [Xem táº¥t cáº£ lá»‹ch sá»­ â†’]     â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Specs:**
- Max 5 entries per type
- Tap entry â†’ Play directly
- Relative time display (Vá»«a xong, X phÃºt trÆ°á»›c, X giá» trÆ°á»›c, X ngÃ y trÆ°á»›c)
- Footer link â†’ Navigate to History page with filter

### 3.1 History Timeline & Analytics (Updated)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“œ Lá»‹ch sá»­ há»c táº­p         ğŸ”  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [All] [ğŸ§] [ğŸ—£ï¸] [ğŸ“–]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  ğŸ“Š Tá»•ng quan                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ”¥ 12   â”‚ â±ï¸ 3.5h â”‚ ğŸ“š 42 â”‚ â”‚
â”‚  â”‚ Streak  â”‚ Total  â”‚ Lessonâ”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚  ğŸ“… Hoáº¡t Ä‘á»™ng tuáº§n nÃ y          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚       â–„             â–„     â”‚ â”‚
â”‚  â”‚   â–„   â–ˆ   â–„     â–„   â–ˆ     â”‚ â”‚
â”‚  â”‚   â–ˆ   â–ˆ   â–ˆ  â–„  â–ˆ   â–ˆ     â”‚ â”‚
â”‚  â”‚ M T W T F S S â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚  ğŸ§© Learning Heatmap            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â¬œğŸŸ©ğŸŸ©â¬œğŸŸ©ğŸŸ©ğŸŸ© (Jan)      â”‚ â”‚
â”‚  â”‚ ğŸŸ©ğŸŸ©ğŸŸ©ğŸŸ©â¬œğŸŸ©ğŸŸ© (Feb)      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚  ğŸ’¡ AI Insight                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Báº¡n há»c tá»‘t nháº¥t vÃ o buá»•i â”‚ â”‚
â”‚  â”‚ sÃ¡ng (06:00 - 08:00). HÃ£y â”‚ â”‚
â”‚  â”‚ duy trÃ¬ thÃ³i quen nÃ y!    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚  ğŸ“Œ Pinned                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ§ Coffee Shop Talk â­  â”‚   â”‚
â”‚  â”‚ 09:30 â€¢ 15 min â€¢ 80%    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â”‚  â”€â”€â”€ HÃ´m nay â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  (Session List continues...)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Specs:**
- Stats Cards: Horizontal scroll or Grid
- Charts: Recharts or Victory Native
- Heatmap: Calendar contribution graph
- AI Insight: Dynamic text box with icon
- Pinned: Section riÃªng trÃªn cÃ¹ng list

### 3.2 Filtered View (Listening Only)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“œ Lá»‹ch sá»­ há»c táº­p         ğŸ”  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [All] [ğŸ§] [ğŸ—£ï¸] [ğŸ“–]    â”‚
â”‚         â–²                       â”‚
â”‚    (Selected)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š Listening: 12 sessions      â”‚
â”‚  â±ï¸ Total: 3.5 hours            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  â”€â”€â”€ HÃ´m nay â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ§ Coffee Shop Talk â­  â”‚   â”‚
â”‚  â”‚ 09:30 â€¢ 15 min â€¢ 80%    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â”‚  â”€â”€â”€ HÃ´m qua â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ§ Airport Dialogue     â”‚   â”‚
â”‚  â”‚ 08:00 â€¢ 20 min â€¢ 92%    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ§ Restaurant Order     â”‚   â”‚
â”‚  â”‚ 12:30 â€¢ 10 min â€¢ 88%    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 Session Detail - Listening

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Coffee Shop Talk         â‹®  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  ğŸ§ Listening Session           â”‚
â”‚  ğŸ“… 26/01/2026, 09:30           â”‚
â”‚  â±ï¸ Duration: 15 minutes        â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š Performance                 â”‚
â”‚                                 â”‚
â”‚  Comprehension: 80%             â”‚
â”‚  [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘]         â”‚
â”‚                                 â”‚
â”‚  ğŸ“ Bookmarked: 3 sentences     â”‚
â”‚  ğŸ“š New words: 5                â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âš™ï¸ Settings Used               â”‚
â”‚                                 â”‚
â”‚  â€¢ Mode: Podcast                â”‚
â”‚  â€¢ Speakers: 2                  â”‚
â”‚  â€¢ Topic: Daily Conversation    â”‚
â”‚  â€¢ Speed: 1.0x                  â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“– Transcript                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ A: Hi, can I order...   â”‚   â”‚
â”‚  â”‚ B: Sure! What size...   â”‚   â”‚
â”‚  â”‚ A: Large please...      â”‚   â”‚
â”‚  â”‚ [View full transcript]  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [â–¶ï¸ Replay]  [ğŸ”„ Practice Again]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.4 Session Detail - Speaking

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Tech Pronunciation       â‹®  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  ğŸ—£ï¸ Speaking Session            â”‚
â”‚  ğŸ“… 26/01/2026, 10:15           â”‚
â”‚  â±ï¸ Duration: 8 minutes         â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š Performance                 â”‚
â”‚                                 â”‚
â”‚  Overall Score: 85/100          â”‚
â”‚  [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘]         â”‚
â”‚                                 â”‚
â”‚  ğŸ“ Sentences: 12               â”‚
â”‚  âœ… Perfect: 8 | âš ï¸ Need work: 4 â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“ˆ Word Scores                 â”‚
â”‚                                 â”‚
â”‚  âš ï¸ Lowest:                     â”‚
â”‚  â€¢ revolutionizing (75/100)     â”‚
â”‚  â€¢ unprecedented (78/100)       â”‚
â”‚                                 â”‚
â”‚  âœ… Highest:                    â”‚
â”‚  â€¢ artificial (98/100)          â”‚
â”‚  â€¢ technology (95/100)          â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ğŸ”Š Play Recordings] [ğŸ”„ Retry] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.5 Session Detail - Reading

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Climate Change           â‹®  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  ğŸ“– Reading Session             â”‚
â”‚  ğŸ“… 26/01/2026, 14:30           â”‚
â”‚  â±ï¸ Duration: 5 minutes         â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š Performance                 â”‚
â”‚                                 â”‚
â”‚  Quiz Score: 4/5 (80%)          â”‚
â”‚  [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘]         â”‚
â”‚                                 â”‚
â”‚  ğŸ“ Words read: 384             â”‚
â”‚  ğŸ“š New words saved: 8          â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“ Quiz Review                 â”‚
â”‚                                 â”‚
â”‚  Q1: âœ… Correct                 â”‚
â”‚  Q2: âœ… Correct                 â”‚
â”‚  Q3: âŒ Wrong                   â”‚
â”‚      Your answer: A             â”‚
â”‚      Correct: B                 â”‚
â”‚  Q4: âœ… Correct                 â”‚
â”‚  Q5: âœ… Correct                 â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ğŸ“– Read Again]  [ğŸ“ Retake Quiz]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```



### 3.7 Quick Actions (Long Press)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Quick Actions           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  â–¶ï¸  Replay session             â”‚
â”‚                                 â”‚
â”‚  ğŸ”„  Practice again             â”‚
â”‚                                 â”‚
â”‚  â­  Add to favorites           â”‚
â”‚                                 â”‚
â”‚  ğŸ“¤  Share                      â”‚
â”‚                                 â”‚
â”‚  ğŸ—‘ï¸  Delete                     â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.8 Search History

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ” Search history              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ” coffee shop          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  Results (3 sessions)           â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ§ Coffee Shop Talk     â”‚   â”‚
â”‚  â”‚ 26/01/2026 â€¢ 15 min     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ§ Coffee Order         â”‚   â”‚
â”‚  â”‚ 20/01/2026 â€¢ 10 min     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ âœï¸ Coffee Shop Journal   â”‚   â”‚
â”‚  â”‚ 15/01/2026 â€¢ 8 min      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. Features Detail

### 4.1 Session Types

| Type | Icon | Data Shown |
|------|------|------------|
| Listening | ğŸ§ | Duration, comprehension %, bookmarks |
| Speaking | ğŸ—£ï¸ | Duration, score, sentences count |
| Reading | ğŸ“– | Duration, quiz score, words read |


### 4.2 Quick Actions

| Action | Description |
|--------|-------------|
| Replay | Play audio again (Listening) |
| Practice Again | Start new session with same config |
| Favorite | Mark as important |
| Share | Export session data |
| Delete | Remove from history |

### 4.3 Sync Strategy

| Scenario | Behavior |
|----------|----------|
| Online | Sync immediately after session |
| Offline | Queue for sync, show pending icon |
| Conflict | Latest timestamp wins |

---

## 5. Technical Implementation

### 5.1 State Structure

```typescript
interface HistoryState {
  // Sessions
  sessions: Session[];
  
  // Filters
  filter: 'all' | 'listening' | 'speaking' | 'reading';
  
  // Search
  searchQuery: string;
  
  // Pagination
  page: number;
  hasMore: boolean;
  loading: boolean;
}

interface Session {
  id: string;
  type: 'listening' | 'speaking' | 'reading';
  title: string;
  date: Date;
  duration: number; // minutes
  score?: number;
  config: SessionConfig;
  data: SessionData;
  isFavorite: boolean;
  syncStatus: 'synced' | 'pending' | 'error';
  isPinned?: boolean; // NEW âœ¨
}

interface UserStats {
  streak: number;
  totalHours: number;
  totalLessons: number;
  weeklyActivity: { day: string; minutes: number }[];
  heatmapData: { date: string; count: number }[];
  aiInsight: string;
}
```

### 5.2 Caching Strategy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚ [SQLite Local DB]  â†”  [React Query Cache]  â†”  [UI]        â”‚
â”‚         â”‚                                                   â”‚
â”‚         â””â”€â”€ [Supabase Sync] (when online)                  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. Implementation Tasks

### MVP Phase
- [ ] History list screen
- [ ] Filter by skill type
- [ ] Session detail view
- [ ] Replay functionality
- [ ] Practice again action

### Enhanced Phase
- [ ] Search functionality
- [ ] Favorites
- [ ] Quick actions (long press)
- [ ] Infinite scroll pagination
- [ ] Offline sync queue
- [ ] **Session restoration from audio player** (NEW âœ¨)
- [ ] **Persist audio URL in history** (NEW âœ¨)
- [ ] **Navigate to skill page from player** (NEW âœ¨)
- [ ] **Stats cards implementation** (NEW âœ¨)
- [ ] **Weekly activity chart** (NEW âœ¨)
- [ ] **Learning heatmap** (NEW âœ¨)
- [ ] **Pinned sessions** (NEW âœ¨)

---

## 7. Related Documents

- [00_Mobile_Overview.md](../00_Mobile_Overview.md) - Project overview
- [10_Native_Features.md](10_Native_Features.md) - Offline sync
- [Architecture.md](../technical/Architecture.md) - Data sync
